
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>[[ERROR: Missing variable library]] &mdash; API</title>
		<!--
		<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/default.min.css">
		<script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
		-->
		<style>.reset{color:#000;font-family:Helvetica,Arial,sans-serif;font-size:13;line-height:1.5em;margin:0;padding:0;outline:0;border:0 solid transparent;background:transparent;width:auto;float:none;overflow:visible;position:static;text-align:left}.no-animation *,.no-animation div,.no-animation span,.no-animation .animated{transition-property:none!important;-moz-transition-property:none!important;-webkit-transition-property:none!important;-o-transition-property:none!important;-ms-transition-property:none!important;transition-duration:.0s!important;-moz-transition-duration:.0s!important;-webkit-transition-duration:.0s!important;-o-transition-duration:.0s!important;-ms-transition-duration:.0s!important}.no-animation{transition-property:none!important;-moz-transition-property:none!important;-webkit-transition-property:none!important;-o-transition-property:none!important;-ms-transition-property:none!important;transition-duration:.0s!important;-moz-transition-duration:.0s!important;-webkit-transition-duration:.0s!important;-o-transition-duration:.0s!important;-ms-transition-duration:.0s!important}.no-local-animation{transition-property:none!important;-moz-transition-property:none!important;-webkit-transition-property:none!important;-o-transition-property:none!important;-ms-transition-property:none!important;transition-duration:.0s!important;-moz-transition-duration:.0s!important;-webkit-transition-duration:.0s!important;-o-transition-duration:.0s!important;-ms-transition-duration:.0s!important}.no-select *{user-select:none!important;-moz-user-select:none!important;-webkit-user-select:none!important;-o-user-select:none!important;-ms-user-select:none!important;-moz-user-select:none!important;-webkit:none!important}.no-select{user-select:none!important;-moz-user-select:none!important;-webkit-user-select:none!important;-o-user-select:none!important;-ms-user-select:none!important;-moz-user-select:none!important;-webkit:none!important}.no-break{white-space:nowrap}.no-overflow{overflow:hidden}.use-base{color:#000;font-family:Helvetica,Arial,sans-serif;font-size:13;line-height:1.25em}.use-base button,.use-base tr td,.use-base tr th{font-size:100%}.use-base a,.use-base a:active,.use-base a:hover,.use-base a:visited,.use-base a:focus{outline:0}.use-base .draggable{user-select:none;-moz-user-select:none;-webkit-user-select:none;-o-user-select:none;-ms-user-select:none;cursor:grab;cursor:-moz-grab;cursor:-webkit-grab}.use-base .scrollbar{user-select:none;-moz-user-select:none;-webkit-user-select:none;-o-user-select:none;-ms-user-select:none}.use-base .dragging{user-select:none;-moz-user-select:none;-webkit-user-select:none;-o-user-select:none;-ms-user-select:none;cursor:grab;cursor:-moz-grab;cursor:-webkit-grab;cursor:grabbing;cursor:-moz-grabbing;cursor:-webkit-grabbing;transition-property:none!important;-moz-transition-property:none!important;-webkit-transition-property:none!important;-o-transition-property:none!important;-ms-transition-property:none!important;transition-duration:.0s!important;-moz-transition-duration:.0s!important;-webkit-transition-duration:.0s!important;-o-transition-duration:.0s!important;-ms-transition-duration:.0s!important}.use-base.dragging{user-select:none;-moz-user-select:none;-webkit-user-select:none;-o-user-select:none;-ms-user-select:none;cursor:grab;cursor:-moz-grab;cursor:-webkit-grab;cursor:grabbing;cursor:-moz-grabbing;cursor:-webkit-grabbing;transition-property:none!important;-moz-transition-property:none!important;-webkit-transition-property:none!important;-o-transition-property:none!important;-ms-transition-property:none!important;transition-duration:.0s!important;-moz-transition-duration:.0s!important;-webkit-transition-duration:.0s!important;-o-transition-duration:.0s!important;-ms-transition-duration:.0s!important}.use-base .placeholder{display:none}.use-base .no-select{user-select:none;-moz-user-select:none;-webkit-user-select:none;-o-user-select:none;-ms-user-select:none}.use-base .cursor{user-select:none;-moz-user-select:none;-webkit-user-select:none;-o-user-select:none;-ms-user-select:none}.use-base input:focus,.use-base textarea:focus{outline:none}.use-base .vsep{height:.75em}.use-base .capitalize{text-transform:capitalize}.use-base .uppercase{text-transform:uppercase}.use-base .cursor-move{cursor:move}.use-base .cursor-pointer{cursor:pointer}.use-base .cursor-grab{user-select:none;-moz-user-select:none;-webkit-user-select:none;-o-user-select:none;-ms-user-select:none;cursor:grab;cursor:-moz-grab;cursor:-webkit-grab}.use-base .action,.use-base .button,.use-base button,.use-base .do{cursor:pointer;user-select:none;-moz-user-select:none;-webkit-user-select:none;-o-user-select:none;-ms-user-select:none}.use-base table td,.use-base table th{color:#000;font-family:Helvetica,Arial,sans-serif;line-height:1.5em;font-size:100%;padding:0;margin:0;text-align:left;vertical-align:top}.use-base .no-links a,.use-base .no-links a:active,.use-base .no-links a:visited,.use-base .no-links a:hover{color:black;text-decoration:none}.use-base ul,.use-base li{margin:0;padding:0;list-style-type:none}.use-base ul.as-list{padding-left:1.53846153846em}.use-base ul.as-list li{list-style-type:disc}.use-base ul.as-list{list-style-type:disc}.use-base ul.no-list,.use-base ul.as-horizontal{padding:0;margin:0}.use-base ul.no-list li,.use-base ul.as-horizontal li{list-style-type:none}.use-base ul.as-horizontal li{display:inline-block;margin:0;margin-right:.5em}.use-base ul.as-vertical li{margin:0;margin-top:.5em;margin-bottom:.5em}.use-base .b{font-weight:bold}.use-base .u{text-decoration:underline}.use-base .light{opacity:.75;filter:alpha(opacity=75)}.use-base .lighter{opacity:.5;filter:alpha(opacity=50)}.use-base .small{font-size:90%}.use-base .smaller{font-size:80%}.use-base .bigger{font-size:120%}.use-base .pos-rel{position:relative}.use-base .pos-abs{position:absolute}.use-base .pos-fixed{position:fixed}.use-base .left{float:left}.use-base .right{float:right}.use-base .hidden{display:none!important}.use-base .invisible{visibility:hidden}.use-base .visible{visibility:visible}.use-base .transparent{opacity:0;filter:alpha(opacity=0);transition-property:opacity;-moz-transition-property:opacity;-webkit-transition-property:opacity;-o-transition-property:opacity;-ms-transition-property:opacity;transition-duration:1.0;-moz-transition-duration:1.0;-webkit-transition-duration:1.0;-o-transition-duration:1.0;-ms-transition-duration:1.0}.use-base .opaque{opacity:1;filter:alpha(opacity=100)}.use-base .clear{clear:both}.use-base .clear-left{clear:left}.use-base .clear-after:after{content:"";display:block;height:0;line-height:0;clear:both}.use-base .last-clear-after>*:last-child:after,.use-base .last-clear-after>.last:after{content:"";display:block;height:0;line-height:0;clear:both;visibility:hidden}.use-base .clearer{clear:both;display:block;position:relative;margin:0;padding:0;height:0;line-height:0;width:0;clear:both}.use-base .clearfix:after{content:"";display:block;height:0;line-height:0;clear:both;visibility:hidden}.use-base .cleared{display:inline-block}.use-base .cleared:after{content:"" "";display:block;height:0;clear:both;overflow:hidden;visibility:hidden}.use-base .cleared{display:block}.use-base .clearfix{display:inline-block}.use-base html[xmlns] .clearfix{display:block}.use-base *:first-child+html .clearfix{height:1%}.use-base * html .clearfix{height:1%}.use-base .align-left{text-align:left!important}.use-base .align-center{text-align:center!important}.use-base .align-right{text-align:right!important}.use-base .to-n{position:absolute;top:0}.use-base .to-ne{position:absolute;top:0;right:0}.use-base .to-nw{position:absolute;top:0;left:0}.use-base .to-s{position:absolute;bottom:0}.use-base .to-se{position:absolute;bottom:0;right:0}.use-base .to-sw{position:absolute;bottom:0;left:0}.use-base .to-w{position:absolute;left:0}.use-base .to-e{position:absolute;right:0}.use-base .to-m{position:absolute;left:0;right:0;text-align:center}.use-base .expand{position:absolute;top:0;bottom:0;left:0;right:0}.use-base .expand-w{position:absolute;left:0;right:0}.use-base .expand-h{position:absolute;top:0;bottom:0}.use-base .w-0{width:0;overflow:hidden}.use-base .w-25p{width:25%!important}.use-base .w-33p{width:33.3332%!important}.use-base .w-50p{width:50%!important}.use-base .w-66p{width:66.6666%!important}.use-base .w-75p{width:75%!important}.use-base .w-100p{width:100%!important}.use-base .w-200{width:200px!important}.use-base .w-250{width:250px!important}.use-base .w-400{width:400px!important}.use-base .w-600{width:600px!important}.use-base .span-last{clear:right}.use-base .span-10p{float:left;width:10%}.use-base .span-15p{float:left;width:15%}.use-base .span-20p{float:left;width:20%}.use-base .span-25p{float:left;width:25%}.use-base .span-30p{float:left;width:30%}.use-base .span-33p{float:left;width:33.332%}.use-base .span-35p{float:left;width:35%}.use-base .span-40p{float:left;width:50%}.use-base .span-50p{float:left;width:50%}.use-base .span-60p{float:left;width:50%}.use-base .span-65p{float:left;width:65%}.use-base .span-66p{float:left;width:66.332%}.use-base .span-70p{float:left;width:70%}.use-base .span-75p{float:left;width:75%}.use-base .span-80p{float:left;width:80%}.use-base .span-85p{float:left;width:85%}.use-base .span-90p{float:left;width:90%}.use-base .span-100{float:left;width:100px}.use-base .span-200{float:left;width:200px}.use-base .span-400{float:left;width:400px}.use-base .span-600{float:left;width:600px}.use-base .columns:after{content:"";display:block;height:0;line-height:0;clear:both}.use-base .col>.header,.use-base .col>.body,.use-base .col>.footer{padding-left:1.53846153846em;padding-right:1.53846153846em}.use-base .col.first>.header,.use-base .col:first-child>.header,.use-base .col.first>.body,.use-base .col:first-child>.body,.use-base .col.first>.footer,.use-base .col:first-child>.footer{padding-left:0!important}.use-base .col.last:after,.use-base .col:last-child:after{content:"";display:block;height:0;line-height:0;clear:both;visibility:hidden}.use-base .col.last>.header,.use-base .col:last-child>.header,.use-base .col.last>.body,.use-base .col:last-child>.body,.use-base .col.last>.footer,.use-base .col:last-child>.footer{padding-right:0!important}.use-base .by-2>*{float:left;width:50%}.use-base .by-3>*{float:left;width:33.331%}.use-base .by-4>*{float:left;width:25%}.use-base .by-5>*{float:left;width:20%}.use-base .by-6>*{float:left;width:16.667%}.use-base .by-7>*{float:left;width:14.285%}.use-base .by-8>*{float:left;width:12.5%}.use-base .by-9>*{float:left;width:11.111%}.use-base .by-2:after,.use-base .by-3:after,.use-base .by-4:after,.use-base .by-5:after,.use-base .by-6:after,.use-base .by-7:after,.use-base .by-8:after,.use-base .by-9:after{content:"";display:block;clear:both;height:0}.use-base .as-table{display:table}.use-base .as-table.expand{position:inherit;top:auto;left:auto;right:auto;bottom:auto;width:100%;height:100%}.use-base .as-cell{display:table-cell}.use-base .as-cell.centered{text-align:center;vertical-align:middle}.use-base .loading{opacity:0;filter:alpha(opacity=0);transition-property:opacity;-moz-transition-property:opacity;-webkit-transition-property:opacity;-o-transition-property:opacity;-ms-transition-property:opacity;transition-duration:1.0s;-moz-transition-duration:1.0s;-webkit-transition-duration:1.0s;-o-transition-duration:1.0s;-ms-transition-duration:1.0s}.use-base .loaded{opacity:1;filter:alpha(opacity=100);transition-property:opacity;-moz-transition-property:opacity;-webkit-transition-property:opacity;-o-transition-property:opacity;-ms-transition-property:opacity;transition-duration:1.0s;-moz-transition-duration:1.0s;-webkit-transition-duration:1.0s;-o-transition-duration:1.0s;-ms-transition-duration:1.0s}.use-base .hover-expandable .when-hover{display:none}.use-base .hover-expandable:hover .when-hover{display:block}.use-base .hover-expandable:hover .when-nohover{display:none}.use-base .hover-expandable.no-hover .when-nohover{display:auto}.use-base .hover-expandable.no-hover .when-hover{display:none}.use-base .debug{border:1px solid red;margin:-1px}.use-base #Templates,.use-base .template,.use-base .templates{display:none!important}.use-base #Data,.use-base .data{display:none!important}.use-base .PLACEHOLDER{background-color:rgba(255,255,0,0.75)}.use-base .DEBUG{border:1px solid red}.use-base .DEBUG_FILL{background:red}
html{background:#f0f0f0;padding:0;margin:0}.use-texto .texto-index,.texto-index{position:fixed;top:0;left:0;bottom:0;width:21.4285714286em;background:#fff;box-shadow:1px 1px 2px #e0e0e0;-moz-box-shadow:1px 1px 2px #e0e0e0;-webkit-box-shadow:1px 1px 2px #e0e0e0;-o-box-shadow:1px 1px 2px #e0e0e0;-ms-box-shadow:1px 1px 2px #e0e0e0;overflow:auto}.use-texto{color:#202020;font-size:14px;line-height:1.25em;margin:0;font-family:Helvetica,Arial,sans-serif}.use-texto .texto-index{background-color:#d0d0d0;font-size:80%}.use-texto .texto-index ul,.use-texto .texto-index ul li{margin:0;padding:0;list-style-type:none}.use-texto .texto-index li>a{padding:.5em;padding-left:1.25em;font-weight:bold;display:block;margin-top:.5em;margin-bottom:.5em;font-size:110%;line-height:1.35em}.use-texto .texto-index ul.type-a_anchor li>a,.use-texto .texto-index ul.type-h4 li>a{font-weight:normal;margin:0;font-size:100%;line-height:1.35em;padding-bottom:0;border-bottom:0 solid transparent}.use-texto .texto-index a,.use-texto .texto-index a:hover{color:#404040;display:block;text-decoration:none}.use-texto .texto-index a:hover,.use-texto .texto-index a:hover:hover{color:#202020}.use-texto .texto-index ol{padding:.625em}.use-texto .texto-index ol li{list-style-type:none;padding:0;margin:0}.use-texto .texto-index ul.type-h1>li{border-top:1px solid #e0e0e0;border-bottom:1px solid #c0c0c0}.use-texto .texto-index ul.type-h1>li:first-child{background:#404040;padding:.625em}.use-texto .texto-index ul.type-h1>li:first-child li{margin:0}.use-texto .texto-index ul.type-h1>li:first-child a{padding:0;font-size:140%;line-height:1.35em}.use-texto .texto-index ul.type-h1>li:first-child a,.use-texto .texto-index ul.type-h1>li:first-child a:hover,.use-texto .texto-index ul.type-h1>li:first-child a:active{color:#e0e0e0}.use-texto .texto-index ul.type-h1>li:first-child .type-h2 a{font-size:120%;line-height:1.35em;font-weight:normal;color:#d0d0d0}.use-texto .document{background:#fff;padding:6em;margin:0;max-width:50em;box-shadow:1px 1px 2px #e0e0e0;-moz-box-shadow:1px 1px 2px #e0e0e0;-webkit-box-shadow:1px 1px 2px #e0e0e0;-o-box-shadow:1px 1px 2px #e0e0e0;-ms-box-shadow:1px 1px 2px #e0e0e0}.use-texto .document header{border-bottom:1px solid #f0f0f0;margin-bottom:2.5em;padding-bottom:1.25em}.use-texto .document>.title{border-bottom:1px solid #d0d0d0}.use-texto .document>.title:after{content:"";display:block;margin-top:1.25em;height:1px;background-color:black}.use-texto .document>.title h1{font-size:240%;line-height:1.45em;font-weight:bold;margin:0}.use-texto .document>.title h2{margin:0;font-size:200%;line-height:1.45em;font-weight:bold}.use-texto.document{background:#fff;padding:6em;margin:0;max-width:50em;box-shadow:1px 1px 2px #e0e0e0;-moz-box-shadow:1px 1px 2px #e0e0e0;-webkit-box-shadow:1px 1px 2px #e0e0e0;-o-box-shadow:1px 1px 2px #e0e0e0;-ms-box-shadow:1px 1px 2px #e0e0e0}.use-texto.document header{border-bottom:1px solid #f0f0f0;margin-bottom:2.5em;padding-bottom:1.25em}.use-texto.document>.title{border-bottom:1px solid #d0d0d0}.use-texto.document>.title:after{content:"";display:block;margin-top:1.25em;height:1px;background-color:black}.use-texto.document>.title h1{font-size:240%;line-height:1.45em;font-weight:bold;margin:0}.use-texto.document>.title h2{margin:0;font-size:200%;line-height:1.45em;font-weight:bold}.use-texto span.hi{background-color:yellow;padding-left:.25em;padding-right:.25em}.use-texto .term{background-color:#f0f0f0;padding-left:.25em;font-weight:bold;padding-right:.25em}.use-texto .highlight{background-color:#ff0}.use-texto .header{margin-top:3em;margin-bottom:2em}.use-texto .header *{font-family:Helvetica,Arial,sans-serif}.use-texto .header{font-family:Helvetica,Arial,sans-serif}.use-texto .header .number{display:none}.use-texto p{line-height:1.45em}.use-texto sub{font-size:75%;vertical-align:bottom}.use-texto pre{margin-top:1em;margin-bottom:1em}.use-texto h1,.use-texto h2,.use-texto h3,.use-texto h4,.use-texto h5{margin-top:1em;margin-bottom:.5em;font-weight:bold}.use-texto h1 a,.use-texto h2 a,.use-texto h3 a,.use-texto h4 a,.use-texto h5 a{color:#202020;text-decoration:none}.use-texto h1{font-size:200%;line-height:1.25em}.use-texto h2{font-size:180%;line-height:1.25em}.use-texto h3{font-size:160%;line-height:1.25em}.use-texto h4{font-size:140%;line-height:1.25em}.use-texto h5{font-size:120%;line-height:1.25em}.use-texto p{margin-top:.5em;margin-bottom:.5em}.use-texto ul,.use-texto ol,.use-texto dl{margin-top:.5em;margin-bottom:.5em;margin-left:1em;padding-left:1em}.use-texto ul dt,.use-texto ol dt,.use-texto dl dt{font-weight:bold}.use-texto ul dd,.use-texto ol dd,.use-texto dl dd{margin-bottom:1.25em;margin-top:1.25em}.use-texto ul li,.use-texto ol li,.use-texto dl li{margin-bottom:.416666666667em;margin-top:.416666666667em}.use-texto dl{margin-left:0;padding-left:0}.use-texto ul li{list-style-type:disc}.use-texto ol li{list-style-type:decimal}.use-texto pre{background:#f0f0f0;padding:1em;font-size:90%;overflow:auto}.use-texto pre code{padding:0}.use-texto code{background:#f0f0f0;padding-left:.5em;padding-right:.5em;padding-top:.0625em;padding-bottom:.0625em;font-size:90%}.use-texto table{width:100%;border-collapse:collapse}.use-texto table tr td,.use-texto table tr th{padding:.25em}.use-texto table thead th{font-weight:bold;border-bottom:2px solid #e0e0e0}.use-texto table tr td{border:1px solid #f0f0f0}.use-texto table tr:hover td{background-color:#f0f0f0}.use-texto .note{border:1px solid #e0e0e0;background-color:#f0f0f0;padding:1.25em}.use-texto .abstract{font-size:120%;line-height:1.5em;margin-top:1.25em;margin-bottom:1.25em;font-style:italic}.use-texto .script{margin-top:1.25em;margin-bottom:1.25em}.use-texto .example{margin-bottom:3.75em}.use-texto .example .controls{background-color:#f0f0f0;padding:.5em}.use-texto .example .graph{border:1px solid #f0f0f0;position:relative}.use-texto .example .instructions{font-style:italic;max-width:none}.use-texto .example .frame{position:absolute;background-color:#f0f0f0;padding:.5em;padding-right:.75em;padding-left:.75em;text-align:right;font-size:80%}.use-texto table.meta,.use-texto .content table{margin-top:1.5em;margin-bottom:1.5em;padding:1.5em;border-top:2px solid black;border-bottom:2px solid black;border-collapse:collapse;width:100%}.use-texto table.meta caption,.use-texto .content table caption{font-weight:bold;font-size:120%;padding-bottom:10px;border-bottom:2px solid black}.use-texto table.meta tr,.use-texto .content table tr{border-top:1px solid #202020;border-bottom:1px solid #202020}.use-texto table.meta tr th,.use-texto .content table tr th,.use-texto table.meta tr td,.use-texto .content table tr td{padding-top:.5em;padding-bottom:.5em}.use-texto table.meta tr th pre,.use-texto .content table tr th pre,.use-texto table.meta tr td pre,.use-texto .content table tr td pre{padding:.25em}.use-texto table.meta tr th,.use-texto .content table tr th{font-weight:bold}.use-texto table.meta{border-collapse:collapse;border:0 solid #202020;margin-bottom:2.5em}.use-texto table.meta tr{border-top:0 solid #202020;border-bottom:0 solid #202020}.use-texto table.meta tr th,.use-texto table.meta tr:hover th,.use-texto table.meta tr td,.use-texto table.meta tr:hover td{padding-left:0;padding-top:0;padding-bottom:0;border:0 solid transparent;vertical-align:middle;background:transparent}.use-texto table.meta .name{font-weight:bold;padding-right:1.5em}.use-texto .annNote .title{display:inline;font-weight:bold;text-transform:capitalize}.use-texto .annNote .title:after{content:":"}.use-texto .annNote .content{display:inline;font-style:italic}</style>
		<script>/*!
 * jQuery JavaScript Library v2.1.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-05-01T17:11Z
 */(function(e,t){typeof module=="object"&&typeof module.exports=="object"?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)})(typeof window!="undefined"?window:this,function(window,noGlobal){function isArraylike(e){var t=e.length,n=jQuery.type(e);return n==="function"||jQuery.isWindow(e)?!1:e.nodeType===1&&t?!0:n==="array"||t===0||typeof t=="number"&&t>0&&t-1 in e}function winnow(e,t,n){if(jQuery.isFunction(t))return jQuery.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return jQuery.grep(e,function(e){return e===t!==n});if(typeof t=="string"){if(risSimple.test(t))return jQuery.filter(t,e,n);t=jQuery.filter(t,e)}return jQuery.grep(e,function(e){return indexOf.call(t,e)>=0!==n})}function sibling(e,t){while((e=e[t])&&e.nodeType!==1);return e}function createOptions(e){var t=optionsCache[e]={};return jQuery.each(e.match(rnotwhite)||[],function(e,n){t[n]=!0}),t}function completed(){document.removeEventListener("DOMContentLoaded",completed,!1),window.removeEventListener("load",completed,!1),jQuery.ready()}function Data(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=jQuery.expando+Math.random()}function dataAttr(e,t,n){var r;if(n===undefined&&e.nodeType===1){r="data-"+t.replace(rmultiDash,"-$1").toLowerCase(),n=e.getAttribute(r);if(typeof n=="string"){try{n=n==="true"?!0:n==="false"?!1:n==="null"?null:+n+""===n?+n:rbrace.test(n)?jQuery.parseJSON(n):n}catch(i){}data_user.set(e,t,n)}else n=undefined}return n}function returnTrue(){return!0}function returnFalse(){return!1}function safeActiveElement(){try{return document.activeElement}catch(e){}}function manipulationTarget(e,t){return jQuery.nodeName(e,"table")&&jQuery.nodeName(t.nodeType!==11?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function disableScript(e){return e.type=(e.getAttribute("type")!==null)+"/"+e.type,e}function restoreScript(e){var t=rscriptTypeMasked.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function setGlobalEval(e,t){var n=0,r=e.length;for(;n<r;n++)data_priv.set(e[n],"globalEval",!t||data_priv.get(t[n],"globalEval"))}function cloneCopyEvent(e,t){var n,r,i,s,o,u,a,f;if(t.nodeType!==1)return;if(data_priv.hasData(e)){s=data_priv.access(e),o=data_priv.set(t,s),f=s.events;if(f){delete o.handle,o.events={};for(i in f)for(n=0,r=f[i].length;n<r;n++)jQuery.event.add(t,i,f[i][n])}}data_user.hasData(e)&&(u=data_user.access(e),a=jQuery.extend({},u),data_user.set(t,a))}function getAll(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return t===undefined||t&&jQuery.nodeName(e,t)?jQuery.merge([e],n):n}function fixInput(e,t){var n=t.nodeName.toLowerCase();if(n==="input"&&rcheckableType.test(e.type))t.checked=e.checked;else if(n==="input"||n==="textarea")t.defaultValue=e.defaultValue}function actualDisplay(e,t){var n,r=jQuery(t.createElement(e)).appendTo(t.body),i=window.getDefaultComputedStyle&&(n=window.getDefaultComputedStyle(r[0]))?n.display:jQuery.css(r[0],"display");return r.detach(),i}function defaultDisplay(e){var t=document,n=elemdisplay[e];if(!n){n=actualDisplay(e,t);if(n==="none"||!n)iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=iframe[0].contentDocument,t.write(),t.close(),n=actualDisplay(e,t),iframe.detach();elemdisplay[e]=n}return n}function curCSS(e,t,n){var r,i,s,o,u=e.style;return n=n||getStyles(e),n&&(o=n.getPropertyValue(t)||n[t]),n&&(o===""&&!jQuery.contains(e.ownerDocument,e)&&(o=jQuery.style(e,t)),rnumnonpx.test(o)&&rmargin.test(t)&&(r=u.width,i=u.minWidth,s=u.maxWidth,u.minWidth=u.maxWidth=u.width=o,o=n.width,u.width=r,u.minWidth=i,u.maxWidth=s)),o!==undefined?o+"":o}function addGetHookIf(e,t){return{get:function(){if(e()){delete this.get;return}return(this.get=t).apply(this,arguments)}}}function vendorPropName(e,t){if(t in e)return t;var n=t[0].toUpperCase()+t.slice(1),r=t,i=cssPrefixes.length;while(i--){t=cssPrefixes[i]+n;if(t in e)return t}return r}function setPositiveNumber(e,t,n){var r=rnumsplit.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function augmentWidthOrHeight(e,t,n,r,i){var s=n===(r?"border":"content")?4:t==="width"?1:0,o=0;for(;s<4;s+=2)n==="margin"&&(o+=jQuery.css(e,n+cssExpand[s],!0,i)),r?(n==="content"&&(o-=jQuery.css(e,"padding"+cssExpand[s],!0,i)),n!=="margin"&&(o-=jQuery.css(e,"border"+cssExpand[s]+"Width",!0,i))):(o+=jQuery.css(e,"padding"+cssExpand[s],!0,i),n!=="padding"&&(o+=jQuery.css(e,"border"+cssExpand[s]+"Width",!0,i)));return o}function getWidthOrHeight(e,t,n){var r=!0,i=t==="width"?e.offsetWidth:e.offsetHeight,s=getStyles(e),o=jQuery.css(e,"boxSizing",!1,s)==="border-box";if(i<=0||i==null){i=curCSS(e,t,s);if(i<0||i==null)i=e.style[t];if(rnumnonpx.test(i))return i;r=o&&(support.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+augmentWidthOrHeight(e,t,n||(o?"border":"content"),r,s)+"px"}function showHide(e,t){var n,r,i,s=[],o=0,u=e.length;for(;o<u;o++){r=e[o];if(!r.style)continue;s[o]=data_priv.get(r,"olddisplay"),n=r.style.display,t?(!s[o]&&n==="none"&&(r.style.display=""),r.style.display===""&&isHidden(r)&&(s[o]=data_priv.access(r,"olddisplay",defaultDisplay(r.nodeName)))):(i=isHidden(r),(n!=="none"||!i)&&data_priv.set(r,"olddisplay",i?n:jQuery.css(r,"display")))}for(o=0;o<u;o++){r=e[o];if(!r.style)continue;if(!t||r.style.display==="none"||r.style.display==="")r.style.display=t?s[o]||"":"none"}return e}function Tween(e,t,n,r,i){return new Tween.prototype.init(e,t,n,r,i)}function createFxNow(){return setTimeout(function(){fxNow=undefined}),fxNow=jQuery.now()}function genFx(e,t){var n,r=0,i={height:e};t=t?1:0;for(;r<4;r+=2-t)n=cssExpand[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function createTween(e,t,n){var r,i=(tweeners[t]||[]).concat(tweeners["*"]),s=0,o=i.length;for(;s<o;s++)if(r=i[s].call(n,t,e))return r}function defaultPrefilter(e,t,n){var r,i,s,o,u,a,f,l,c=this,h={},p=e.style,d=e.nodeType&&isHidden(e),v=data_priv.get(e,"fxshow");n.queue||(u=jQuery._queueHooks(e,"fx"),u.unqueued==null&&(u.unqueued=0,a=u.empty.fire,u.empty.fire=function(){u.unqueued||a()}),u.unqueued++,c.always(function(){c.always(function(){u.unqueued--,jQuery.queue(e,"fx").length||u.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],f=jQuery.css(e,"display"),l=f==="none"?data_priv.get(e,"olddisplay")||defaultDisplay(e.nodeName):f,l==="inline"&&jQuery.css(e,"float")==="none"&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",c.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t){i=t[r];if(rfxtypes.exec(i)){delete t[r],s=s||i==="toggle";if(i===(d?"hide":"show")){if(i!=="show"||!v||v[r]===undefined)continue;d=!0}h[r]=v&&v[r]||jQuery.style(e,r)}else f=undefined}if(!jQuery.isEmptyObject(h)){v?"hidden"in v&&(d=v.hidden):v=data_priv.access(e,"fxshow",{}),s&&(v.hidden=!d),d?jQuery(e).show():c.done(function(){jQuery(e).hide()}),c.done(function(){var t;data_priv.remove(e,"fxshow");for(t in h)jQuery.style(e,t,h[t])});for(r in h)o=createTween(d?v[r]:0,r,c),r in v||(v[r]=o.start,d&&(o.end=o.start,o.start=r==="width"||r==="height"?1:0))}else(f==="none"?defaultDisplay(e.nodeName):f)==="inline"&&(p.display=f)}function propFilter(e,t){var n,r,i,s,o;for(n in e){r=jQuery.camelCase(n),i=t[r],s=e[n],jQuery.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=jQuery.cssHooks[r];if(o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}}function Animation(e,t,n){var r,i,s=0,o=animationPrefilters.length,u=jQuery.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;var t=fxNow||createFxNow(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,s=1-r,o=0,a=f.tweens.length;for(;o<a;o++)f.tweens[o].run(s);return u.notifyWith(e,[f,s,n]),s<1&&a?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:jQuery.extend({},t),opts:jQuery.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:fxNow||createFxNow(),duration:n.duration,tweens:[],createTween:function(t,n){var r=jQuery.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(i)return this;i=!0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;propFilter(l,f.opts.specialEasing);for(;s<o;s++){r=animationPrefilters[s].call(f,e,l,f.opts);if(r)return r}return jQuery.map(l,createTween,f),jQuery.isFunction(f.opts.start)&&f.opts.start.call(e,f),jQuery.fx.timer(jQuery.extend(a,{elem:e,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function addToPrefiltersOrTransports(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(n))while(r=s[i++])r[0]==="+"?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function inspectPrefiltersOrTransports(e,t,n,r){function o(u){var a;return i[u]=!0,jQuery.each(e[u]||[],function(e,u){var f=u(t,n,r);if(typeof f=="string"&&!s&&!i[f])return t.dataTypes.unshift(f),o(f),!1;if(s)return!(a=f)}),a}var i={},s=e===transports;return o(t.dataTypes[0])||!i["*"]&&o("*")}function ajaxExtend(e,t){var n,r,i=jQuery.ajaxSettings.flatOptions||{};for(n in t)t[n]!==undefined&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&jQuery.extend(!0,e,r),e}function ajaxHandleResponses(e,t,n){var r,i,s,o,u=e.contents,a=e.dataTypes;while(a[0]==="*")a.shift(),r===undefined&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in u)if(u[i]&&u[i].test(r)){a.unshift(i);break}if(a[0]in n)s=a[0];else{for(i in n){if(!a[0]||e.converters[i+" "+a[0]]){s=i;break}o||(o=i)}s=s||o}if(s)return s!==a[0]&&a.unshift(s),n[s]}function ajaxConvert(e,t,n,r){var i,s,o,u,a,f={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)f[o.toLowerCase()]=e.converters[o];s=l.shift();while(s){e.responseFields[s]&&(n[e.responseFields[s]]=t),!a&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=s,s=l.shift();if(s)if(s==="*")s=a;else if(a!=="*"&&a!==s){o=f[a+" "+s]||f["* "+s];if(!o)for(i in f){u=i.split(" ");if(u[1]===s){o=f[a+" "+u[0]]||f["* "+u[0]];if(o){o===!0?o=f[i]:f[i]!==!0&&(s=u[0],l.unshift(u[1]));break}}}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+a+" to "+s}}}}return{state:"success",data:t}}function buildParams(e,t,n,r){var i;if(jQuery.isArray(t))jQuery.each(t,function(t,i){n||rbracket.test(e)?r(e,i):buildParams(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&jQuery.type(t)==="object")for(i in t)buildParams(e+"["+i+"]",t[i],n,r);else r(e,t)}function getWindow(e){return jQuery.isWindow(e)?e:e.nodeType===9&&e.defaultView}var arr=[],slice=arr.slice,concat=arr.concat,push=arr.push,indexOf=arr.indexOf,class2type={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,support={},document=window.document,version="2.1.1",jQuery=function(e,t){return new jQuery.fn.init(e,t)},rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(e,t){return t.toUpperCase()};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,selector:"",length:0,toArray:function(){return slice.call(this)},get:function(e){return e!=null?e<0?this[e+this.length]:this[e]:slice.call(this)},pushStack:function(e){var t=jQuery.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return jQuery.each(this,e,t)},map:function(e){return this.pushStack(jQuery.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:push,sort:arr.sort,splice:arr.splice},jQuery.extend=jQuery.fn.extend=function(){var e,t,n,r,i,s,o=arguments[0]||{},u=1,a=arguments.length,f=!1;typeof o=="boolean"&&(f=o,o=arguments[u]||{},u++),typeof o!="object"&&!jQuery.isFunction(o)&&(o={}),u===a&&(o=this,u--);for(;u<a;u++)if((e=arguments[u])!=null)for(t in e){n=o[t],r=e[t];if(o===r)continue;f&&r&&(jQuery.isPlainObject(r)||(i=jQuery.isArray(r)))?(i?(i=!1,s=n&&jQuery.isArray(n)?n:[]):s=n&&jQuery.isPlainObject(n)?n:{},o[t]=jQuery.extend(f,s,r)):r!==undefined&&(o[t]=r)}return o},jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return jQuery.type(e)==="function"},isArray:Array.isArray,isWindow:function(e){return e!=null&&e===e.window},isNumeric:function(e){return!jQuery.isArray(e)&&e-parseFloat(e)>=0},isPlainObject:function(e){return jQuery.type(e)!=="object"||e.nodeType||jQuery.isWindow(e)?!1:e.constructor&&!hasOwn.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return e==null?e+"":typeof e=="object"||typeof e=="function"?class2type[toString.call(e)]||"object":typeof e},globalEval:function(code){var script,indirect=eval;code=jQuery.trim(code),code&&(code.indexOf("use strict")===1?(script=document.createElement("script"),script.text=code,document.head.appendChild(script).parentNode.removeChild(script)):indirect(code))},camelCase:function(e){return e.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,s=e.length,o=isArraylike(e);if(n)if(o)for(;i<s;i++){r=t.apply(e[i],n);if(r===!1)break}else for(i in e){r=t.apply(e[i],n);if(r===!1)break}else if(o)for(;i<s;i++){r=t.call(e[i],i,e[i]);if(r===!1)break}else for(i in e){r=t.call(e[i],i,e[i]);if(r===!1)break}return e},trim:function(e){return e==null?"":(e+"").replace(rtrim,"")},makeArray:function(e,t){var n=t||[];return e!=null&&(isArraylike(Object(e))?jQuery.merge(n,typeof e=="string"?[e]:e):push.call(n,e)),n},inArray:function(e,t,n){return t==null?-1:indexOf.call(t,e,n)},merge:function(e,t){var n=+t.length,r=0,i=e.length;for(;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length,u=!n;for(;s<o;s++)r=!t(e[s],s),r!==u&&i.push(e[s]);return i},map:function(e,t,n){var r,i=0,s=e.length,o=isArraylike(e),u=[];if(o)for(;i<s;i++)r=t(e[i],i,n),r!=null&&u.push(r);else for(i in e)r=t(e[i],i,n),r!=null&&u.push(r);return concat.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return typeof t=="string"&&(n=e[t],t=e,e=n),jQuery.isFunction(e)?(r=slice.call(arguments,2),i=function(){return e.apply(t||this,r.concat(slice.call(arguments)))},i.guid=e.guid=e.guid||jQuery.guid++,i):undefined},now:Date.now,support:support}),jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){class2type["[object "+t+"]"]=t.toLowerCase()});var Sizzle=function(e){function st(e,t,r,i){var s,u,f,l,c,d,g,y,S,x;(t?t.ownerDocument||t:E)!==p&&h(t),t=t||p,r=r||[];if(!e||typeof e!="string")return r;if((l=t.nodeType)!==1&&l!==9)return[];if(v&&!i){if(s=Z.exec(e))if(f=s[1]){if(l===9){u=t.getElementById(f);if(!u||!u.parentNode)return r;if(u.id===f)return r.push(u),r}else if(t.ownerDocument&&(u=t.ownerDocument.getElementById(f))&&b(t,u)&&u.id===f)return r.push(u),r}else{if(s[2])return P.apply(r,t.getElementsByTagName(e)),r;if((f=s[3])&&n.getElementsByClassName&&t.getElementsByClassName)return P.apply(r,t.getElementsByClassName(f)),r}if(n.qsa&&(!m||!m.test(e))){y=g=w,S=t,x=l===9&&e;if(l===1&&t.nodeName.toLowerCase()!=="object"){d=o(e),(g=t.getAttribute("id"))?y=g.replace(tt,"\\$&"):t.setAttribute("id",y),y="[id='"+y+"'] ",c=d.length;while(c--)d[c]=y+mt(d[c]);S=et.test(e)&&dt(t.parentNode)||t,x=d.join(",")}if(x)try{return P.apply(r,S.querySelectorAll(x)),r}catch(T){}finally{g||t.removeAttribute("id")}}}return a(e.replace(z,"$1"),t,r,i)}function ot(){function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function ut(e){return e[w]=!0,e}function at(e){var t=p.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ft(e,t){var n=e.split("|"),i=e.length;while(i--)r.attrHandle[n[i]]=t}function lt(e,t){var n=t&&e,r=n&&e.nodeType===1&&t.nodeType===1&&(~t.sourceIndex||A)-(~e.sourceIndex||A);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ct(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function ht(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function pt(e){return ut(function(t){return t=+t,ut(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function dt(e){return e&&typeof e.getElementsByTagName!==L&&e}function vt(){}function mt(e){var t=0,n=e.length,r="";for(;t<n;t++)r+=e[t].value;return r}function gt(e,t,n){var r=t.dir,i=n&&r==="parentNode",s=x++;return t.first?function(t,n,s){while(t=t[r])if(t.nodeType===1||i)return e(t,n,s)}:function(t,n,o){var u,a,f=[S,s];if(o){while(t=t[r])if(t.nodeType===1||i)if(e(t,n,o))return!0}else while(t=t[r])if(t.nodeType===1||i){a=t[w]||(t[w]={});if((u=a[r])&&u[0]===S&&u[1]===s)return f[2]=u[2];a[r]=f;if(f[2]=e(t,n,o))return!0}}}function yt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function bt(e,t,n){var r=0,i=t.length;for(;r<i;r++)st(e,t[r],n);return n}function wt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function Et(e,t,n,r,i,s){return r&&!r[w]&&(r=Et(r)),i&&!i[w]&&(i=Et(i,s)),ut(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||bt(t||"*",u.nodeType?[u]:u,[]),m=e&&(s||!t)?wt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&&n(m,g,u,a);if(r){f=wt(g,p),r(f,[],u,a),l=f.length;while(l--)if(c=f[l])g[p[l]]=!(m[p[l]]=c)}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?B.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=wt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):P.apply(o,g)})}function St(e){var t,n,i,s=e.length,o=r.relative[e[0].type],u=o||r.relative[" "],a=o?1:0,l=gt(function(e){return e===t},u,!0),c=gt(function(e){return B.call(t,e)>-1},u,!0),h=[function(e,n,r){return!o&&(r||n!==f)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];for(;a<s;a++)if(n=r.relative[e[a].type])h=[gt(yt(h),n)];else{n=r.filter[e[a].type].apply(null,e[a].matches);if(n[w]){i=++a;for(;i<s;i++)if(r.relative[e[i].type])break;return Et(a>1&&yt(h),a>1&&mt(e.slice(0,a-1).concat({value:e[a-2].type===" "?"*":""})).replace(z,"$1"),n,a<i&&St(e.slice(a,i)),i<s&&St(e=e.slice(i)),i<s&&mt(e))}h.push(n)}return yt(h)}function xt(e,t){var n=t.length>0,i=e.length>0,s=function(s,o,u,a,l){var c,h,d,v=0,m="0",g=s&&[],y=[],b=f,w=s||i&&r.find.TAG("*",l),E=S+=b==null?1:Math.random()||.1,x=w.length;l&&(f=o!==p&&o);for(;m!==x&&(c=w[m])!=null;m++){if(i&&c){h=0;while(d=e[h++])if(d(c,o,u)){a.push(c);break}l&&(S=E)}n&&((c=!d&&c)&&v--,s&&g.push(c))}v+=m;if(n&&m!==v){h=0;while(d=t[h++])d(g,y,o,u);if(s){if(v>0)while(m--)!g[m]&&!y[m]&&(y[m]=_.call(a));y=wt(y)}P.apply(a,y),l&&!s&&y.length>0&&v+t.length>1&&st.uniqueSort(a)}return l&&(S=E,f=b),g};return n?ut(s):s}var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w="sizzle"+ -(new Date),E=e.document,S=0,x=0,T=ot(),N=ot(),C=ot(),k=function(e,t){return e===t&&(c=!0),0},L=typeof undefined,A=1<<31,O={}.hasOwnProperty,M=[],_=M.pop,D=M.push,P=M.push,H=M.slice,B=M.indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},j="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",I="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",q=I.replace("w","w#"),R="\\["+F+"*("+I+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+q+"))|)"+F+"*\\]",U=":("+I+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+R+")*)|"+".*"+")\\)|)",z=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),W=new RegExp("^"+F+"*,"+F+"*"),X=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),V=new RegExp("="+F+"*([^\\]'\"]*?)"+F+"*\\]","g"),$=new RegExp(U),J=new RegExp("^"+q+"$"),K={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I.replace("w","w*")+")"),ATTR:new RegExp("^"+R),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+j+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},Q=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/[+~]/,tt=/'|\\/g,nt=new RegExp("\\\\([\\da-f]{1,6}"+F+"?|("+F+")|.)","ig"),rt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)};try{P.apply(M=H.call(E.childNodes),E.childNodes),M[E.childNodes.length].nodeType}catch(it){P={apply:M.length?function(e,t){D.apply(e,H.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}n=st.support={},s=st.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},h=st.setDocument=function(e){var t,i=e?e.ownerDocument||e:E,o=i.defaultView;if(i===p||i.nodeType!==9||!i.documentElement)return p;p=i,d=i.documentElement,v=!s(i),o&&o!==o.top&&(o.addEventListener?o.addEventListener("unload",function(){h()},!1):o.attachEvent&&o.attachEvent("onunload",function(){h()})),n.attributes=at(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=at(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Y.test(i.getElementsByClassName)&&at(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",e.getElementsByClassName("i").length===2}),n.getById=at(function(e){return d.appendChild(e).id=w,!i.getElementsByName||!i.getElementsByName(w).length}),n.getById?(r.find.ID=function(e,t){if(typeof t.getElementById!==L&&v){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},r.filter.ID=function(e){var t=e.replace(nt,rt);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(nt,rt);return function(e){var n=typeof e.getAttributeNode!==L&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==L)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if(e==="*"){while(n=s[i++])n.nodeType===1&&r.push(n);return r}return s},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!==L&&v)return t.getElementsByClassName(e)},g=[],m=[];if(n.qsa=Y.test(i.querySelectorAll))at(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&m.push("[*^$]="+F+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+F+"*(?:value|"+j+")"),e.querySelectorAll(":checked").length||m.push(":checked")}),at(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+F+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")});return(n.matchesSelector=Y.test(y=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&at(function(e){n.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),g.push("!=",U)}),m=m.length&&new RegExp(m.join("|")),g=g.length&&new RegExp(g.join("|")),t=Y.test(d.compareDocumentPosition),b=t||Y.test(d.contains)?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&r.nodeType===1&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16)}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},k=t?function(e,t){if(e===t)return c=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,r&1||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===i||e.ownerDocument===E&&b(E,e)?-1:t===i||t.ownerDocument===E&&b(E,t)?1:l?B.call(l,e)-B.call(l,t):0:r&4?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,r=0,s=e.parentNode,o=t.parentNode,u=[e],a=[t];if(!s||!o)return e===i?-1:t===i?1:s?-1:o?1:l?B.call(l,e)-B.call(l,t):0;if(s===o)return lt(e,t);n=e;while(n=n.parentNode)u.unshift(n);n=t;while(n=n.parentNode)a.unshift(n);while(u[r]===a[r])r++;return r?lt(u[r],a[r]):u[r]===E?-1:a[r]===E?1:0},i},st.matches=function(e,t){return st(e,null,null,t)},st.matchesSelector=function(e,t){(e.ownerDocument||e)!==p&&h(e),t=t.replace(V,"='$1']");if(n.matchesSelector&&v&&(!g||!g.test(t))&&(!m||!m.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&e.document.nodeType!==11)return r}catch(i){}return st(t,p,null,[e]).length>0},st.contains=function(e,t){return(e.ownerDocument||e)!==p&&h(e),b(e,t)},st.attr=function(e,t){(e.ownerDocument||e)!==p&&h(e);var i=r.attrHandle[t.toLowerCase()],s=i&&O.call(r.attrHandle,t.toLowerCase())?i(e,t,!v):undefined;return s!==undefined?s:n.attributes||!v?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},st.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},st.uniqueSort=function(e){var t,r=[],i=0,s=0;c=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(k);if(c){while(t=e[s++])t===e[s]&&(i=r.push(s));while(i--)e.splice(r[i],1)}return l=null,e},i=st.getText=function(e){var t,n="",r=0,s=e.nodeType;if(!s)while(t=e[r++])n+=i(t);else if(s===1||s===9||s===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(s===3||s===4)return e.nodeValue;return n},r=st.selectors={cacheLength:50,createPseudo:ut,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(nt,rt),e[3]=(e[3]||e[4]||e[5]||"").replace(nt,rt),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||st.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&st.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&$.test(n)&&(t=o(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(nt,rt).toLowerCase();return e==="*"?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+F+")"+e+"("+F+"|$)"))&&T(e,function(e){return t.test(typeof e.className=="string"&&e.className||typeof e.getAttribute!==L&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=st.attr(r,e);return i==null?t==="!=":t?(i+="",t==="="?i===n:t==="!="?i!==n:t==="^="?n&&i.indexOf(n)===0:t==="*="?n&&i.indexOf(n)>-1:t==="$="?n&&i.slice(-n.length)===n:t==="~="?(" "+i+" ").indexOf(n)>-1:t==="|="?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s=e.slice(0,3)!=="nth",o=e.slice(-4)!=="last",u=t==="of-type";return r===1&&i===0?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v])if(u?c.nodeName.toLowerCase()===g:c.nodeType===1)return!1;d=v=e==="only"&&!d&&"nextSibling"}return!0}d=[o?m.firstChild:m.lastChild];if(o&&y){l=m[w]||(m[w]={}),f=l[e]||[],p=f[0]===S&&f[1],h=f[0]===S&&f[2],c=p&&m.childNodes[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if(c.nodeType===1&&++h&&c===t){l[e]=[S,p,h];break}}else if(y&&(f=(t[w]||(t[w]={}))[e])&&f[0]===S)h=f[1];else while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if((u?c.nodeName.toLowerCase()===g:c.nodeType===1)&&++h){y&&((c[w]||(c[w]={}))[e]=[S,h]);if(c===t)break}return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||st.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ut(function(e,n){var r,s=i(e,t),o=s.length;while(o--)r=B.call(e,s[o]),e[r]=!(n[r]=s[o])}):function(e){return i(e,0,n)}):i}},pseudos:{not:ut(function(e){var t=[],n=[],r=u(e.replace(z,"$1"));return r[w]?ut(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:ut(function(e){return function(t){return st(e,t).length>0}}),contains:ut(function(e){return function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:ut(function(e){return J.test(e||"")||st.error("unsupported lang: "+e),e=e.replace(nt,rt).toLowerCase(),function(t){var n;do if(n=v?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||n.indexOf(e+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()==="text")},first:pt(function(){return[0]}),last:pt(function(e,t){return[t-1]}),eq:pt(function(e,t,n){return[n<0?n+t:n]}),even:pt(function(e,t){var n=0;for(;n<t;n+=2)e.push(n);return e}),odd:pt(function(e,t){var n=1;for(;n<t;n+=2)e.push(n);return e}),lt:pt(function(e,t,n){var r=n<0?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:pt(function(e,t,n){var r=n<0?n+t:n;for(;++r<t;)e.push(r);return e})}},r.pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=ct(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=ht(t);return vt.prototype=r.filters=r.pseudos,r.setFilters=new vt,o=st.tokenize=function(e,t){var n,i,s,o,u,a,f,l=N[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=r.preFilter;while(u){if(!n||(i=W.exec(u)))i&&(u=u.slice(i[0].length)||u),a.push(s=[]);n=!1;if(i=X.exec(u))n=i.shift(),s.push({value:n,type:i[0].replace(z," ")}),u=u.slice(n.length);for(o in r.filter)(i=K[o].exec(u))&&(!f[o]||(i=f[o](i)))&&(n=i.shift(),s.push({value:n,type:o,matches:i}),u=u.slice(n.length));if(!n)break}return t?u.length:u?st.error(e):N(e,a).slice(0)},u=st.compile=function(e,t){var n,r=[],i=[],s=C[e+" "];if(!s){t||(t=o(e)),n=t.length;while(n--)s=St(t[n]),s[w]?r.push(s):i.push(s);s=C(e,xt(i,r)),s.selector=e}return s},a=st.select=function(e,t,i,s){var a,f,l,c,h,p=typeof e=="function"&&e,d=!s&&o(e=p.selector||e);i=i||[];if(d.length===1){f=d[0]=d[0].slice(0);if(f.length>2&&(l=f[0]).type==="ID"&&n.getById&&t.nodeType===9&&v&&r.relative[f[1].type]){t=(r.find.ID(l.matches[0].replace(nt,rt),t)||[])[0];if(!t)return i;p&&(t=t.parentNode),e=e.slice(f.shift().value.length)}a=K.needsContext.test(e)?0:f.length
;while(a--){l=f[a];if(r.relative[c=l.type])break;if(h=r.find[c])if(s=h(l.matches[0].replace(nt,rt),et.test(f[0].type)&&dt(t.parentNode)||t)){f.splice(a,1),e=s.length&&mt(f);if(!e)return P.apply(i,s),i;break}}}return(p||u(e,d))(s,t,!v,i,et.test(e)&&dt(t.parentNode)||t),i},n.sortStable=w.split("").sort(k).join("")===w,n.detectDuplicates=!!c,h(),n.sortDetached=at(function(e){return e.compareDocumentPosition(p.createElement("div"))&1}),at(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild.getAttribute("href")==="#"})||ft("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,t.toLowerCase()==="type"?1:2)}),(!n.attributes||!at(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),e.firstChild.getAttribute("value")===""}))&&ft("value",function(e,t,n){if(!n&&e.nodeName.toLowerCase()==="input")return e.defaultValue}),at(function(e){return e.getAttribute("disabled")==null})||ft(j,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),st}(window);jQuery.find=Sizzle,jQuery.expr=Sizzle.selectors,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.unique=Sizzle.uniqueSort,jQuery.text=Sizzle.getText,jQuery.isXMLDoc=Sizzle.isXML,jQuery.contains=Sizzle.contains;var rneedsContext=jQuery.expr.match.needsContext,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,risSimple=/^.[^:#\[\.,]*$/;jQuery.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),t.length===1&&r.nodeType===1?jQuery.find.matchesSelector(r,e)?[r]:[]:jQuery.find.matches(e,jQuery.grep(t,function(e){return e.nodeType===1}))},jQuery.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if(typeof e!="string")return this.pushStack(jQuery(e).filter(function(){for(t=0;t<n;t++)if(jQuery.contains(i[t],this))return!0}));for(t=0;t<n;t++)jQuery.find(e,i[t],r);return r=this.pushStack(n>1?jQuery.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(winnow(this,e||[],!1))},not:function(e){return this.pushStack(winnow(this,e||[],!0))},is:function(e){return!!winnow(this,typeof e=="string"&&rneedsContext.test(e)?jQuery(e):e||[],!1).length}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,init=jQuery.fn.init=function(e,t){var n,r;if(!e)return this;if(typeof e=="string"){e[0]==="<"&&e[e.length-1]===">"&&e.length>=3?n=[null,e,null]:n=rquickExpr.exec(e);if(n&&(n[1]||!t)){if(n[1]){t=t instanceof jQuery?t[0]:t,jQuery.merge(this,jQuery.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:document,!0));if(rsingleTag.test(n[1])&&jQuery.isPlainObject(t))for(n in t)jQuery.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=document.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=document,this.selector=e,this}return!t||t.jquery?(t||rootjQuery).find(e):this.constructor(t).find(e)}return e.nodeType?(this.context=this[0]=e,this.length=1,this):jQuery.isFunction(e)?typeof rootjQuery.ready!="undefined"?rootjQuery.ready(e):e(jQuery):(e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),jQuery.makeArray(e,this))};init.prototype=jQuery.fn,rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};jQuery.extend({dir:function(e,t,n){var r=[],i=n!==undefined;while((e=e[t])&&e.nodeType!==9)if(e.nodeType===1){if(i&&jQuery(e).is(n))break;r.push(e)}return r},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}}),jQuery.fn.extend({has:function(e){var t=jQuery(e,this),n=t.length;return this.filter(function(){var e=0;for(;e<n;e++)if(jQuery.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,s=[],o=rneedsContext.test(e)||typeof e!="string"?jQuery(e,t||this.context):0;for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:n.nodeType===1&&jQuery.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?jQuery.unique(s):s)},index:function(e){return e?typeof e=="string"?indexOf.call(jQuery(e),this[0]):indexOf.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(jQuery.unique(jQuery.merge(this.get(),jQuery(e,t))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),jQuery.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return jQuery.dir(e,"parentNode")},parentsUntil:function(e,t,n){return jQuery.dir(e,"parentNode",n)},next:function(e){return sibling(e,"nextSibling")},prev:function(e){return sibling(e,"previousSibling")},nextAll:function(e){return jQuery.dir(e,"nextSibling")},prevAll:function(e){return jQuery.dir(e,"previousSibling")},nextUntil:function(e,t,n){return jQuery.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return jQuery.dir(e,"previousSibling",n)},siblings:function(e){return jQuery.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return jQuery.sibling(e.firstChild)},contents:function(e){return e.contentDocument||jQuery.merge([],e.childNodes)}},function(e,t){jQuery.fn[e]=function(n,r){var i=jQuery.map(this,t,n);return e.slice(-5)!=="Until"&&(r=n),r&&typeof r=="string"&&(i=jQuery.filter(r,i)),this.length>1&&(guaranteedUnique[e]||jQuery.unique(i),rparentsprev.test(e)&&i.reverse()),this.pushStack(i)}});var rnotwhite=/\S+/g,optionsCache={};jQuery.Callbacks=function(e){e=typeof e=="string"?optionsCache[e]||createOptions(e):jQuery.extend({},e);var t,n,r,i,s,o,u=[],a=!e.once&&[],f=function(c){t=e.memory&&c,n=!0,o=i||0,i=0,s=u.length,r=!0;for(;u&&o<s;o++)if(u[o].apply(c[0],c[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,u&&(a?a.length&&f(a.shift()):t?u=[]:l.disable())},l={add:function(){if(u){var n=u.length;(function o(t){jQuery.each(t,function(t,n){var r=jQuery.type(n);r==="function"?(!e.unique||!l.has(n))&&u.push(n):n&&n.length&&r!=="string"&&o(n)})})(arguments),r?s=u.length:t&&(i=n,f(t))}return this},remove:function(){return u&&jQuery.each(arguments,function(e,t){var n;while((n=jQuery.inArray(t,u,n))>-1)u.splice(n,1),r&&(n<=s&&s--,n<=o&&o--)}),this},has:function(e){return e?jQuery.inArray(e,u)>-1:!!u&&!!u.length},empty:function(){return u=[],s=0,this},disable:function(){return u=a=t=undefined,this},disabled:function(){return!u},lock:function(){return a=undefined,t||l.disable(),this},locked:function(){return!a},fireWith:function(e,t){return u&&(!n||a)&&(t=t||[],t=[e,t.slice?t.slice():t],r?a.push(t):f(t)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!n}};return l},jQuery.extend({Deferred:function(e){var t=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return jQuery.Deferred(function(n){jQuery.each(t,function(t,s){var o=jQuery.isFunction(e[t])&&e[t];i[s[1]](function(){var e=o&&o.apply(this,arguments);e&&jQuery.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s[0]+"With"](this===r?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return e!=null?jQuery.extend(e,r):r}},i={};return r.pipe=r.then,jQuery.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=slice.call(arguments),r=n.length,i=r!==1||e&&jQuery.isFunction(e.promise)?r:0,s=i===1?e:jQuery.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?slice.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t<r;t++)n[t]&&jQuery.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(f,n),s.promise()}});var readyList;jQuery.fn.ready=function(e){return jQuery.ready.promise().done(e),this},jQuery.extend({isReady:!1,readyWait:1,holdReady:function(e){e?jQuery.readyWait++:jQuery.ready(!0)},ready:function(e){if(e===!0?--jQuery.readyWait:jQuery.isReady)return;jQuery.isReady=!0;if(e!==!0&&--jQuery.readyWait>0)return;readyList.resolveWith(document,[jQuery]),jQuery.fn.triggerHandler&&(jQuery(document).triggerHandler("ready"),jQuery(document).off("ready"))}}),jQuery.ready.promise=function(e){return readyList||(readyList=jQuery.Deferred(),document.readyState==="complete"?setTimeout(jQuery.ready):(document.addEventListener("DOMContentLoaded",completed,!1),window.addEventListener("load",completed,!1))),readyList.promise(e)},jQuery.ready.promise();var access=jQuery.access=function(e,t,n,r,i,s,o){var u=0,a=e.length,f=n==null;if(jQuery.type(n)==="object"){i=!0;for(u in n)jQuery.access(e,t,u,n[u],!0,s,o)}else if(r!==undefined){i=!0,jQuery.isFunction(r)||(o=!0),f&&(o?(t.call(e,r),t=null):(f=t,t=function(e,t,n){return f.call(jQuery(e),n)}));if(t)for(;u<a;u++)t(e[u],n,o?r:r.call(e[u],u,t(e[u],n)))}return i?e:f?t.call(e):a?t(e[0],n):s};jQuery.acceptData=function(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType},Data.uid=1,Data.accepts=jQuery.acceptData,Data.prototype={key:function(e){if(!Data.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=Data.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,jQuery.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),s=this.cache[i];if(typeof t=="string")s[t]=n;else if(jQuery.isEmptyObject(s))jQuery.extend(this.cache[i],t);else for(r in t)s[r]=t[r];return s},get:function(e,t){var n=this.cache[this.key(e)];return t===undefined?n:n[t]},access:function(e,t,n){var r;return t===undefined||t&&typeof t=="string"&&n===undefined?(r=this.get(e,t),r!==undefined?r:this.get(e,jQuery.camelCase(t))):(this.set(e,t,n),n!==undefined?n:t)},remove:function(e,t){var n,r,i,s=this.key(e),o=this.cache[s];if(t===undefined)this.cache[s]={};else{jQuery.isArray(t)?r=t.concat(t.map(jQuery.camelCase)):(i=jQuery.camelCase(t),t in o?r=[t,i]:(r=i,r=r in o?[r]:r.match(rnotwhite)||[])),n=r.length;while(n--)delete o[r[n]]}},hasData:function(e){return!jQuery.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var data_priv=new Data,data_user=new Data,rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/([A-Z])/g;jQuery.extend({hasData:function(e){return data_user.hasData(e)||data_priv.hasData(e)},data:function(e,t,n){return data_user.access(e,t,n)},removeData:function(e,t){data_user.remove(e,t)},_data:function(e,t,n){return data_priv.access(e,t,n)},_removeData:function(e,t){data_priv.remove(e,t)}}),jQuery.fn.extend({data:function(e,t){var n,r,i,s=this[0],o=s&&s.attributes;if(e===undefined){if(this.length){i=data_user.get(s);if(s.nodeType===1&&!data_priv.get(s,"hasDataAttrs")){n=o.length;while(n--)o[n]&&(r=o[n].name,r.indexOf("data-")===0&&(r=jQuery.camelCase(r.slice(5)),dataAttr(s,r,i[r])));data_priv.set(s,"hasDataAttrs",!0)}}return i}return typeof e=="object"?this.each(function(){data_user.set(this,e)}):access(this,function(t){var n,r=jQuery.camelCase(e);if(s&&t===undefined){n=data_user.get(s,e);if(n!==undefined)return n;n=data_user.get(s,r);if(n!==undefined)return n;n=dataAttr(s,r,undefined);if(n!==undefined)return n;return}this.each(function(){var n=data_user.get(this,r);data_user.set(this,r,t),e.indexOf("-")!==-1&&n!==undefined&&data_user.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){data_user.remove(this,e)})}}),jQuery.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=data_priv.get(e,t),n&&(!r||jQuery.isArray(n)?r=data_priv.access(e,t,jQuery.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=jQuery.queue(e,t),r=n.length,i=n.shift(),s=jQuery._queueHooks(e,t),o=function(){jQuery.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),r--),i&&(t==="fx"&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return data_priv.get(e,n)||data_priv.access(e,n,{empty:jQuery.Callbacks("once memory").add(function(){data_priv.remove(e,[t+"queue",n])})})}}),jQuery.fn.extend({queue:function(e,t){var n=2;return typeof e!="string"&&(t=e,e="fx",n--),arguments.length<n?jQuery.queue(this[0],e):t===undefined?this:this.each(function(){var n=jQuery.queue(this,e,t);jQuery._queueHooks(this,e),e==="fx"&&n[0]!=="inprogress"&&jQuery.dequeue(this,e)})},dequeue:function(e){return this.each(function(){jQuery.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=jQuery.Deferred(),s=this,o=this.length,u=function(){--r||i.resolveWith(s,[s])};typeof e!="string"&&(t=e,e=undefined),e=e||"fx";while(o--)n=data_priv.get(s[o],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(u));return u(),i.promise(t)}});var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,cssExpand=["Top","Right","Bottom","Left"],isHidden=function(e,t){return e=t||e,jQuery.css(e,"display")==="none"||!jQuery.contains(e.ownerDocument,e)},rcheckableType=/^(?:checkbox|radio)$/i;(function(){var e=document.createDocumentFragment(),t=e.appendChild(document.createElement("div")),n=document.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),support.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",support.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue})();var strundefined=typeof undefined;support.focusinBubbles="onfocusin"in window;var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rtypenamespace=/^([^.]*)(?:\.(.+)|)$/;jQuery.event={global:{},add:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=data_priv.get(e);if(!m)return;n.handler&&(s=n,n=s.handler,i=s.selector),n.guid||(n.guid=jQuery.guid++),(a=m.events)||(a=m.events={}),(o=m.handle)||(o=m.handle=function(t){return typeof jQuery!==strundefined&&jQuery.event.triggered!==t.type?jQuery.event.dispatch.apply(e,arguments):undefined}),t=(t||"").match(rnotwhite)||[""],f=t.length;while(f--){u=rtypenamespace.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort();if(!p)continue;c=jQuery.event.special[p]||{},p=(i?c.delegateType:c.bindType)||p,c=jQuery.event.special[p]||{},l=jQuery.extend({type:p,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&jQuery.expr.match.needsContext.test(i),namespace:d.join(".")},s),(h=a[p])||(h=a[p]=[],h.delegateCount=0,(!c.setup||c.setup.call(e,r,d,o)===!1)&&e.addEventListener&&e.addEventListener(p,o,!1)),c.add&&(c.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,l):h.push(l),jQuery.event.global[p]=!0}},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=data_priv.hasData(e)&&data_priv.get(e);if(!m||!(a=m.events))return;t=(t||"").match(rnotwhite)||[""],f=t.length;while(f--){u=rtypenamespace.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort();if(!p){for(p in a)jQuery.event.remove(e,p+t[f],n,r,!0);continue}c=jQuery.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,h=a[p]||[],u=u[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=h.length;while(s--)l=h[s],(i||v===l.origType)&&(!n||n.guid===l.guid)&&(!u||u.test(l.namespace))&&(!r||r===l.selector||r==="**"&&l.selector)&&(h.splice(s,1),l.selector&&h.delegateCount--,c.remove&&c.remove.call(e,l));o&&!h.length&&((!c.teardown||c.teardown.call(e,d,m.handle)===!1)&&jQuery.removeEvent(e,p,m.handle),delete a[p])}jQuery.isEmptyObject(a)&&(delete m.handle,data_priv.remove(e,"events"))},trigger:function(e,t,n,r){var i,s,o,u,a,f,l,c=[n||document],h=hasOwn.call(e,"type")?e.type:e,p=hasOwn.call(e,"namespace")?e.namespace.split("."):[];s=o=n=n||document;if(n.nodeType===3||n.nodeType===8)return;if(rfocusMorph.test(h+jQuery.event.triggered))return;h.indexOf(".")>=0&&(p=h.split("."),h=p.shift(),p.sort()),a=h.indexOf(":")<0&&"on"+h,e=e[jQuery.expando]?e:new jQuery.Event(h,typeof e=="object"&&e),e.isTrigger=r?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=undefined,e.target||(e.target=n),t=t==null?[e]:jQuery.makeArray(t,[e]),l=jQuery.event.special[h]||{};if(!r&&l.trigger&&l.trigger.apply(n,t)===!1)return;if(!r&&!l.noBubble&&!jQuery.isWindow(n)){u=l.delegateType||h,rfocusMorph.test(u+h)||(s=s.parentNode);for(;s;s=s.parentNode)c.push(s),o=s;o===(n.ownerDocument||document)&&c.push(o.defaultView||o.parentWindow||window)}i=0;while((s=c[i++])&&!e.isPropagationStopped())e.type=i>1?u:l.bindType||h,f=(data_priv.get(s,"events")||{})[e.type]&&data_priv.get(s,"handle"),f&&f.apply(s,t),f=a&&s[a],f&&f.apply&&jQuery.acceptData(s)&&(e.result=f.apply(s,t),e.result===!1&&e.preventDefault());return e.type=h,!r&&!e.isDefaultPrevented()&&(!l._default||l._default.apply(c.pop(),t)===!1)&&jQuery.acceptData(n)&&a&&jQuery.isFunction(n[h])&&!jQuery.isWindow(n)&&(o=n[a],o&&(n[a]=null),jQuery.event.triggered=h,n[h](),jQuery.event.triggered=undefined,o&&(n[a]=o)),e.result},dispatch:function(e){e=jQuery.event.fix(e);var t,n,r,i,s,o=[],u=slice.call(arguments),a=(data_priv.get(this,"events")||{})[e.type]||[],f=jQuery.event.special[e.type]||{};u[0]=e,e.delegateTarget=this;if(f.preDispatch&&f.preDispatch.call(this,e)===!1)return;o=jQuery.event.handlers.call(this,e,a),t=0;while((i=o[t++])&&!e.isPropagationStopped()){e.currentTarget=i.elem,n=0;while((s=i.handlers[n++])&&!e.isImmediatePropagationStopped())if(!e.namespace_re||e.namespace_re.test(s.namespace))e.handleObj=s,e.data=s.data,r=((jQuery.event.special[s.origType]||{}).handle||s.handler).apply(i.elem,u),r!==undefined&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation())}return f.postDispatch&&f.postDispatch.call(this,e),e.result},handlers:function(e,t){var n,r,i,s,o=[],u=t.delegateCount,a=e.target;if(u&&a.nodeType&&(!e.button||e.type!=="click"))for(;a!==this;a=a.parentNode||this)if(a.disabled!==!0||e.type!=="click"){r=[];for(n=0;n<u;n++)s=t[n],i=s.selector+" ",r[i]===undefined&&(r[i]=s.needsContext?jQuery(i,this).index(a)>=0:jQuery.find(i,this,null,[a]).length),r[i]&&r.push(s);r.length&&o.push({elem:a,handlers:r})}return u<t.length&&o.push({elem:this,handlers:t.slice(u)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,s=t.button;return e.pageX==null&&t.clientX!=null&&(n=e.target.ownerDocument||document,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!e.which&&s!==undefined&&(e.which=s&1?1:s&2?3:s&4?2:0),e}},fix:function(e){if(e[jQuery.expando])return e;var t,n,r,i=e.type,s=e,o=this.fixHooks[i];o||(this.fixHooks[i]=o=rmouseEvent.test(i)?this.mouseHooks:rkeyEvent.test(i)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,e=new jQuery.Event(s),t=r.length;while(t--)n=r[t],e[n]=s[n];return e.target||(e.target=document),e.target.nodeType===3&&(e.target=e.target.parentNode),o.filter?o.filter(e,s):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&jQuery.nodeName(this,"input"))return this.click(),!1},_default:function(e){return jQuery.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=jQuery.extend(new jQuery.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?jQuery.event.trigger(i,null,t):jQuery.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},jQuery.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},jQuery.Event=function(e,t){if(!(this instanceof jQuery.Event))return new jQuery.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&e.returnValue===!1?returnTrue:returnFalse):this.type=e,t&&jQuery.extend(this,t),this.timeStamp=e&&e.timeStamp||jQuery.now(),this[jQuery.expando]=!0},jQuery.Event.prototype={isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){jQuery.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;if(!i||i!==r&&!jQuery.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),support.focusinBubbles||jQuery.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){jQuery.event.simulate(t,e.target,jQuery.event.fix(e),!0)};jQuery.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=data_priv.access(r,t);i||r.addEventListener(e,n,!0),data_priv.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=data_priv.access(r,t)-1;i?data_priv.access(r,t,i):(r.removeEventListener(e,n,!0),data_priv.remove(r,t))}}}),jQuery.fn.extend({on:function(e,t,n,r,i){var s,o;if(typeof e=="object"){typeof t!="string"&&(n=n||t,t=undefined);for(o in e)this.on(o,t,n,e[o],i);return this}n==null&&r==null?(r=t,n=t=undefined):r==null&&(typeof t=="string"?(r=n,n=undefined):(r=n,n=t,t=undefined));if(r===!1)r=returnFalse;else if(!r)return this;return i===1&&(s=r,r=function(e){return jQuery().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=jQuery.guid++)),this.each(function(){jQuery.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,jQuery(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if(typeof e=="object"){for(i in e)this.off(i,t,e[i]);return this}if(t===!1||typeof t=="function")n=t,t=undefined;return n===!1&&(n=returnFalse),this.each(function(){jQuery.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){jQuery.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return jQuery.event.trigger(e,t,n,!0)}});var rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/^$|\/(?:java|ecma)script/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td,jQuery.extend({clone:function(e,t,n){var r,i,s,o,u=e.cloneNode(!0),a=jQuery.contains(e.ownerDocument,e);if(!support.noCloneChecked&&(e.nodeType===1||e.nodeType===11)&&!jQuery.isXMLDoc(e)){o=getAll(u),s=getAll(e);for(r=0,i=s.length;r<i;r++)fixInput(s[r],o[r])}if(t)if(n){s=s||getAll(e),o=o||getAll(u);for(r=0,i=s.length;r<i;r++)cloneCopyEvent(s[r],o[r])}else cloneCopyEvent(e,u);return o=getAll(u,"script"),o.length>0&&setGlobalEval(o,!a&&getAll(e,"script")),u},buildFragment:function(e,t,n,r){var i,s,o,u,a,f,l=t.createDocumentFragment(),c=[],h=0,p=e.length;for(;h<p;h++){i=e[h];if(i||i===0)if(jQuery.type(i)==="object")jQuery.merge(c,i.nodeType?[i]:i);else if(!rhtml.test(i))c.push(t.createTextNode(i));else{s=s||l.appendChild(t.createElement("div")),o=(rtagName.exec(i)||["",""])[1].toLowerCase(),u=wrapMap[o]||wrapMap._default,s.innerHTML=u[1]+i.replace(rxhtmlTag,"<$1></$2>")+u[2],f=u[0];while(f--)s=s.lastChild;jQuery.merge(c,s.childNodes),s=l.firstChild,s.textContent=""}}l.textContent="",h=0;while(i=c[h++]){if(r&&jQuery.inArray(i,r)!==-1)continue;a=jQuery.contains(i.ownerDocument,i),s=getAll(l.appendChild(i),"script"),a&&setGlobalEval(s);if(n){f=0;while(i=s[f++])rscriptType.test(i.type||"")&&n.push(i)}}return l},cleanData:function(e){var t,n,r,i,s=jQuery.event.special,o=0;for(;(n=e[o])!==undefined;o++){if(jQuery.acceptData(n)){i=n[data_priv.expando];if(i&&(t=data_priv.cache[i])){if(t.events)for(r in t.events)s[r]?jQuery.event.remove(n,r):jQuery.removeEvent(n,r,t.handle);data_priv.cache[i]&&delete data_priv.cache[i]}}delete data_user.cache[n[data_user.expando]]}}}),jQuery.fn.extend({text:function(e){return access(this,function(e){return e===undefined?jQuery.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9)this.textContent=e})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=manipulationTarget(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=manipulationTarget(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=e?jQuery.filter(e,this):this,i=0;for(;(n=r[i])!=null;i++)!t&&n.nodeType===1&&jQuery.cleanData(getAll(n)),n.parentNode&&(t&&jQuery.contains(n.ownerDocument,n)&&setGlobalEval(getAll(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++)e.nodeType===1&&(jQuery.cleanData(getAll(e,!1)),e.textContent="");return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return jQuery.clone(this,e,t)})},html:function(e){return access(this,function(e){var t=this[0]||{},n=0,r=this.length;if(e===undefined&&t.nodeType===1)return t.innerHTML;if(typeof e=="string"&&!rnoInnerhtml.test(e)&&!wrapMap[(rtagName.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(rxhtmlTag,"<$1></$2>");try{for(;n<r;n++)t=this[n]||{},t.nodeType===1&&(jQuery.cleanData(getAll(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,jQuery.cleanData(getAll(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=concat.apply([],e);var n,r,i,s,o,u,a=0,f=this.length,l=this,c=f-1,h=e[0],p=jQuery.isFunction(h);if(p||f>1&&typeof h=="string"&&!support.checkClone&&rchecked.test(h))return this.each(function(n){var r=l.eq(n);p&&(e[0]=h.call(this,n,r.html())),r.domManip(e,t)});if(f){n=jQuery.buildFragment(e,this[0].ownerDocument,!1,this),r=n.firstChild,n.childNodes.length===1&&(n=r);if(r){i=jQuery.map(getAll(n,"script"),disableScript),s=i.length;for(;a<f;a++)o=n,a!==c&&(o=jQuery.clone(o,!0,!0),s&&jQuery.merge(i,getAll(o,"script"))),t.call(this[a],o,a);if(s){u=i[i.length-1].ownerDocument,jQuery.map(i,restoreScript);for(a=0;a<s;a++)o=i[a],rscriptType.test(o.type||"")&&!data_priv.access(o,"globalEval")&&jQuery.contains(u,o)&&(o.src?jQuery._evalUrl&&jQuery._evalUrl(o.src):jQuery.globalEval(o.textContent.replace(rcleanScript,"")))}}}return this}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){jQuery.fn[e]=function(e){var n,r=[],i=jQuery(e),s=i.length-1,o=0;for(;o<=s;o++)n=o===s?this:this.clone(!0),jQuery(i[o])[t](n),push.apply(r,n.get());return this.pushStack(r)}});var iframe,elemdisplay={},rmargin=/^margin/,rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i"),getStyles=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};(function(){function s(){i.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",i.innerHTML="",n.appendChild(r);var s=window.getComputedStyle(i,null);e=s.top!=="1%",t=s.width==="4px",n.removeChild(r)}var e,t,n=document.documentElement,r=document.createElement("div"),i=document.createElement("div");if(!i.style)return;i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",support.clearCloneStyle=i.style.backgroundClip==="content-box",r.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",r.appendChild(i),window.getComputedStyle&&jQuery.extend(support,{pixelPosition:function(){return s(),e},boxSizingReliable:function(){return t==null&&s(),t},reliableMarginRight:function(){var e,t=i.appendChild(document.createElement("div"));return t.style.cssText=i.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",i.style.width="1px",n.appendChild(r),e=!parseFloat(window.getComputedStyle(t,null).marginRight),n.removeChild(r),e}})})(),jQuery.swap=function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i};var rdisplayswap=/^(none|table(?!-c[ea]).+)/,rnumsplit=new RegExp("^("+pnum+")(.*)$","i"),rrelNum=new RegExp("^([+-])=("+pnum+")","i"),cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:"0",fontWeight:"400"},cssPrefixes=["Webkit","O","Moz","ms"];jQuery.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=curCSS(e,"opacity");return n===""?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var i,s,o,u=jQuery.camelCase(t),a=e.style;t=jQuery.cssProps[u]||(jQuery.cssProps[u]=vendorPropName(a,u)),o=jQuery.cssHooks[t]||jQuery.cssHooks[u];if(n===undefined)return o&&"get"in o&&(i=o.get(e,!1,r))!==undefined?i:a[t];s=typeof n,s==="string"&&(i=rrelNum.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(jQuery.css(e,t)),s="number");if(n==null||n!==n)return;s==="number"&&!jQuery.cssNumber[u]&&(n+="px"),!support.clearCloneStyle&&n===""&&t.indexOf("background")===0&&(a[t]="inherit");if(!o||!("set"in o)||(n=o.set(e,n,r))!==undefined)a[t]=n},css:function(e,t,n,r){var i,s,o,u=jQuery.camelCase(t);return t=jQuery.cssProps[u]||(jQuery.cssProps[u]=vendorPropName(e.style,u)),o=jQuery.cssHooks[t]||jQuery.cssHooks[u],o&&"get"in o&&(i=o.get(e,!0,n)),i===undefined&&(i=curCSS(e,t,r)),i==="normal"&&t in cssNormalTransform&&(i=cssNormalTransform[t]),n===""||n?(s=parseFloat(i),n===!0||jQuery.isNumeric(s)?s||0:i):i}}),jQuery.each(["height","width"],function(e,t){jQuery.cssHooks[t]={get:function(e,n,r){if(n)return rdisplayswap.test(jQuery.css(e,"display"))&&e.offsetWidth===0?jQuery.swap(e,cssShow,function(){return getWidthOrHeight(e,t,r)}):getWidthOrHeight(e,t,r)},set:function(e,n,r){var i=r&&getStyles(e);return setPositiveNumber(e,n,r?augmentWidthOrHeight(e,t,r,jQuery.css(e,"boxSizing",!1,i)==="border-box",i):0)}}}),jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(e,t){if(t)return jQuery.swap(e,{display:"inline-block"},curCSS,[e,"marginRight"])}),jQuery.each
({margin:"",padding:"",border:"Width"},function(e,t){jQuery.cssHooks[e+t]={expand:function(n){var r=0,i={},s=typeof n=="string"?n.split(" "):[n];for(;r<4;r++)i[e+cssExpand[r]+t]=s[r]||s[r-2]||s[0];return i}},rmargin.test(e)||(jQuery.cssHooks[e+t].set=setPositiveNumber)}),jQuery.fn.extend({css:function(e,t){return access(this,function(e,t,n){var r,i,s={},o=0;if(jQuery.isArray(t)){r=getStyles(e),i=t.length;for(;o<i;o++)s[t[o]]=jQuery.css(e,t[o],!1,r);return s}return n!==undefined?jQuery.style(e,t,n):jQuery.css(e,t)},e,t,arguments.length>1)},show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(e){return typeof e=="boolean"?e?this.show():this.hide():this.each(function(){isHidden(this)?jQuery(this).show():jQuery(this).hide()})}}),jQuery.Tween=Tween,Tween.prototype={constructor:Tween,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(jQuery.cssNumber[n]?"":"px")},cur:function(){var e=Tween.propHooks[this.prop];return e&&e.get?e.get(this):Tween.propHooks._default.get(this)},run:function(e){var t,n=Tween.propHooks[this.prop];return this.options.duration?this.pos=t=jQuery.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=jQuery.css(e.elem,e.prop,""),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){jQuery.fx.step[e.prop]?jQuery.fx.step[e.prop](e):e.elem.style&&(e.elem.style[jQuery.cssProps[e.prop]]!=null||jQuery.cssHooks[e.prop])?jQuery.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},jQuery.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},jQuery.fx=Tween.prototype.init,jQuery.fx.step={};var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=rfxnum.exec(t),s=i&&i[3]||(jQuery.cssNumber[e]?"":"px"),o=(jQuery.cssNumber[e]||s!=="px"&&+r)&&rfxnum.exec(jQuery.css(n.elem,e)),u=1,a=20;if(o&&o[3]!==s){s=s||o[3],i=i||[],o=+r||1;do u=u||".5",o/=u,jQuery.style(n.elem,e,o+s);while(u!==(u=n.cur()/r)&&u!==1&&--a)}return i&&(o=n.start=+o||+r||0,n.unit=s,n.end=i[1]?o+(i[1]+1)*i[2]:+i[2]),n}]};jQuery.Animation=jQuery.extend(Animation,{tweener:function(e,t){jQuery.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],tweeners[n]=tweeners[n]||[],tweeners[n].unshift(t)},prefilter:function(e,t){t?animationPrefilters.unshift(e):animationPrefilters.push(e)}}),jQuery.speed=function(e,t,n){var r=e&&typeof e=="object"?jQuery.extend({},e):{complete:n||!n&&t||jQuery.isFunction(e)&&e,duration:e,easing:n&&t||t&&!jQuery.isFunction(t)&&t};r.duration=jQuery.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in jQuery.fx.speeds?jQuery.fx.speeds[r.duration]:jQuery.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){jQuery.isFunction(r.old)&&r.old.call(this),r.queue&&jQuery.dequeue(this,r.queue)},r},jQuery.fn.extend({fadeTo:function(e,t,n,r){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=jQuery.isEmptyObject(e),s=jQuery.speed(t,n,r),o=function(){var t=Animation(this,jQuery.extend({},e),s);(i||data_priv.get(this,"finish"))&&t.stop(!0)};return o.finish=o,i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return typeof e!="string"&&(n=t,t=e,e=undefined),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=e!=null&&e+"queueHooks",s=jQuery.timers,o=data_priv.get(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&rrun.test(i)&&r(o[i]);for(i=s.length;i--;)s[i].elem===this&&(e==null||s[i].queue===e)&&(s[i].anim.stop(n),t=!1,s.splice(i,1));(t||!n)&&jQuery.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=data_priv.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=jQuery.timers,o=r?r.length:0;n.finish=!0,jQuery.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0);for(t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),jQuery.each(["toggle","show","hide"],function(e,t){var n=jQuery.fn[t];jQuery.fn[t]=function(e,r,i){return e==null||typeof e=="boolean"?n.apply(this,arguments):this.animate(genFx(t,!0),e,r,i)}}),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){jQuery.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),jQuery.timers=[],jQuery.fx.tick=function(){var e,t=0,n=jQuery.timers;fxNow=jQuery.now();for(;t<n.length;t++)e=n[t],!e()&&n[t]===e&&n.splice(t--,1);n.length||jQuery.fx.stop(),fxNow=undefined},jQuery.fx.timer=function(e){jQuery.timers.push(e),e()?jQuery.fx.start():jQuery.timers.pop()},jQuery.fx.interval=13,jQuery.fx.start=function(){timerId||(timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval))},jQuery.fx.stop=function(){clearInterval(timerId),timerId=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fn.delay=function(e,t){return e=jQuery.fx?jQuery.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=document.createElement("input"),t=document.createElement("select"),n=t.appendChild(document.createElement("option"));e.type="checkbox",support.checkOn=e.value!=="",support.optSelected=n.selected,t.disabled=!0,support.optDisabled=!n.disabled,e=document.createElement("input"),e.value="t",e.type="radio",support.radioValue=e.value==="t"}();var nodeHook,boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(e,t){return access(this,jQuery.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){jQuery.removeAttr(this,e)})}}),jQuery.extend({attr:function(e,t,n){var r,i,s=e.nodeType;if(!e||s===3||s===8||s===2)return;if(typeof e.getAttribute===strundefined)return jQuery.prop(e,t,n);if(s!==1||!jQuery.isXMLDoc(e))t=t.toLowerCase(),r=jQuery.attrHooks[t]||(jQuery.expr.match.bool.test(t)?boolHook:nodeHook);if(n===undefined)return r&&"get"in r&&(i=r.get(e,t))!==null?i:(i=jQuery.find.attr(e,t),i==null?undefined:i);if(n!==null)return r&&"set"in r&&(i=r.set(e,n,t))!==undefined?i:(e.setAttribute(t,n+""),n);jQuery.removeAttr(e,t)},removeAttr:function(e,t){var n,r,i=0,s=t&&t.match(rnotwhite);if(s&&e.nodeType===1)while(n=s[i++])r=jQuery.propFix[n]||n,jQuery.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!support.radioValue&&t==="radio"&&jQuery.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),boolHook={set:function(e,t,n){return t===!1?jQuery.removeAttr(e,n):e.setAttribute(n,n),n}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(e,t){var n=attrHandle[t]||jQuery.find.attr;attrHandle[t]=function(e,t,r){var i,s;return r||(s=attrHandle[t],attrHandle[t]=i,i=n(e,t,r)!=null?t.toLowerCase():null,attrHandle[t]=s),i}});var rfocusable=/^(?:input|select|textarea|button)$/i;jQuery.fn.extend({prop:function(e,t){return access(this,jQuery.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[jQuery.propFix[e]||e]})}}),jQuery.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,s,o=e.nodeType;if(!e||o===3||o===8||o===2)return;return s=o!==1||!jQuery.isXMLDoc(e),s&&(t=jQuery.propFix[t]||t,i=jQuery.propHooks[t]),n!==undefined?i&&"set"in i&&(r=i.set(e,n,t))!==undefined?r:e[t]=n:i&&"get"in i&&(r=i.get(e,t))!==null?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||rfocusable.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),support.optSelected||(jQuery.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this});var rclass=/[\t\r\n\f]/g;jQuery.fn.extend({addClass:function(e){var t,n,r,i,s,o,u=typeof e=="string"&&e,a=0,f=this.length;if(jQuery.isFunction(e))return this.each(function(t){jQuery(this).addClass(e.call(this,t,this.className))});if(u){t=(e||"").match(rnotwhite)||[];for(;a<f;a++){n=this[a],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(rclass," "):" ");if(r){s=0;while(i=t[s++])r.indexOf(" "+i+" ")<0&&(r+=i+" ");o=jQuery.trim(r),n.className!==o&&(n.className=o)}}}return this},removeClass:function(e){var t,n,r,i,s,o,u=arguments.length===0||typeof e=="string"&&e,a=0,f=this.length;if(jQuery.isFunction(e))return this.each(function(t){jQuery(this).removeClass(e.call(this,t,this.className))});if(u){t=(e||"").match(rnotwhite)||[];for(;a<f;a++){n=this[a],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(rclass," "):"");if(r){s=0;while(i=t[s++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");o=e?jQuery.trim(r):"",n.className!==o&&(n.className=o)}}}return this},toggleClass:function(e,t){var n=typeof e;return typeof t=="boolean"&&n==="string"?t?this.addClass(e):this.removeClass(e):jQuery.isFunction(e)?this.each(function(n){jQuery(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var t,r=0,i=jQuery(this),s=e.match(rnotwhite)||[];while(t=s[r++])i.hasClass(t)?i.removeClass(t):i.addClass(t)}else if(n===strundefined||n==="boolean")this.className&&data_priv.set(this,"__className__",this.className),this.className=this.className||e===!1?"":data_priv.get(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(rclass," ").indexOf(t)>=0)return!0;return!1}});var rreturn=/\r/g;jQuery.fn.extend({val:function(e){var t,n,r,i=this[0];if(!arguments.length){if(i)return t=jQuery.valHooks[i.type]||jQuery.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&(n=t.get(i,"value"))!==undefined?n:(n=i.value,typeof n=="string"?n.replace(rreturn,""):n==null?"":n);return}return r=jQuery.isFunction(e),this.each(function(n){var i;if(this.nodeType!==1)return;r?i=e.call(this,n,jQuery(this).val()):i=e,i==null?i="":typeof i=="number"?i+="":jQuery.isArray(i)&&(i=jQuery.map(i,function(e){return e==null?"":e+""})),t=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!t||!("set"in t)||t.set(this,i,"value")===undefined)this.value=i})}}),jQuery.extend({valHooks:{option:{get:function(e){var t=jQuery.find.attr(e,"value");return t!=null?t:jQuery.trim(jQuery.text(e))}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s=e.type==="select-one"||i<0,o=s?null:[],u=s?i+1:r.length,a=i<0?u:s?i:0;for(;a<u;a++){n=r[a];if((n.selected||a===i)&&(support.optDisabled?!n.disabled:n.getAttribute("disabled")===null)&&(!n.parentNode.disabled||!jQuery.nodeName(n.parentNode,"optgroup"))){t=jQuery(n).val();if(s)return t;o.push(t)}}return o},set:function(e,t){var n,r,i=e.options,s=jQuery.makeArray(t),o=i.length;while(o--){r=i[o];if(r.selected=jQuery.inArray(r.value,s)>=0)n=!0}return n||(e.selectedIndex=-1),s}}}}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(e,t){if(jQuery.isArray(t))return e.checked=jQuery.inArray(jQuery(e).val(),t)>=0}},support.checkOn||(jQuery.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value})}),jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){jQuery.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),jQuery.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)}});var nonce=jQuery.now(),rquery=/\?/;jQuery.parseJSON=function(e){return JSON.parse(e+"")},jQuery.parseXML=function(e){var t,n;if(!e||typeof e!="string")return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(r){t=undefined}return(!t||t.getElementsByTagName("parsererror").length)&&jQuery.error("Invalid XML: "+e),t};var ajaxLocParts,ajaxLocation,rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/mg,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rurl=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,prefilters={},transports={},allTypes="*/".concat("*");try{ajaxLocation=location.href}catch(e){ajaxLocation=document.createElement("a"),ajaxLocation.href="",ajaxLocation=ajaxLocation.href}ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[],jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ajaxLocation,type:"GET",isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ajaxExtend(ajaxExtend(e,jQuery.ajaxSettings),t):ajaxExtend(jQuery.ajaxSettings,e)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(e,t){function S(e,t,s,u){var f,m,g,b,E,S=t;if(y===2)return;y=2,o&&clearTimeout(o),n=undefined,i=u||"",w.readyState=e>0?4:0,f=e>=200&&e<300||e===304,s&&(b=ajaxHandleResponses(l,w,s)),b=ajaxConvert(l,b,w,f);if(f)l.ifModified&&(E=w.getResponseHeader("Last-Modified"),E&&(jQuery.lastModified[r]=E),E=w.getResponseHeader("etag"),E&&(jQuery.etag[r]=E)),e===204||l.type==="HEAD"?S="nocontent":e===304?S="notmodified":(S=b.state,m=b.data,g=b.error,f=!g);else{g=S;if(e||!S)S="error",e<0&&(e=0)}w.status=e,w.statusText=(t||S)+"",f?p.resolveWith(c,[m,S,w]):p.rejectWith(c,[w,S,g]),w.statusCode(v),v=undefined,a&&h.trigger(f?"ajaxSuccess":"ajaxError",[w,l,f?m:g]),d.fireWith(c,[w,S]),a&&(h.trigger("ajaxComplete",[w,l]),--jQuery.active||jQuery.event.trigger("ajaxStop"))}typeof e=="object"&&(t=e,e=undefined),t=t||{};var n,r,i,s,o,u,a,f,l=jQuery.ajaxSetup({},t),c=l.context||l,h=l.context&&(c.nodeType||c.jquery)?jQuery(c):jQuery.event,p=jQuery.Deferred(),d=jQuery.Callbacks("once memory"),v=l.statusCode||{},m={},g={},y=0,b="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(y===2){if(!s){s={};while(t=rheaders.exec(i))s[t[1].toLowerCase()]=t[2]}t=s[e.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return y===2?i:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=g[n]=g[n]||e,m[e]=t),this},overrideMimeType:function(e){return y||(l.mimeType=e),this},statusCode:function(e){var t;if(e)if(y<2)for(t in e)v[t]=[v[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||b;return n&&n.abort(t),S(0,t),this}};p.promise(w).complete=d.add,w.success=w.done,w.error=w.fail,l.url=((e||l.url||ajaxLocation)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//"),l.type=t.method||t.type||l.method||l.type,l.dataTypes=jQuery.trim(l.dataType||"*").toLowerCase().match(rnotwhite)||[""],l.crossDomain==null&&(u=rurl.exec(l.url.toLowerCase()),l.crossDomain=!(!u||u[1]===ajaxLocParts[1]&&u[2]===ajaxLocParts[2]&&(u[3]||(u[1]==="http:"?"80":"443"))===(ajaxLocParts[3]||(ajaxLocParts[1]==="http:"?"80":"443")))),l.data&&l.processData&&typeof l.data!="string"&&(l.data=jQuery.param(l.data,l.traditional)),inspectPrefiltersOrTransports(prefilters,l,t,w);if(y===2)return w;a=l.global,a&&jQuery.active++===0&&jQuery.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!rnoContent.test(l.type),r=l.url,l.hasContent||(l.data&&(r=l.url+=(rquery.test(r)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=rts.test(r)?r.replace(rts,"$1_="+nonce++):r+(rquery.test(r)?"&":"?")+"_="+nonce++)),l.ifModified&&(jQuery.lastModified[r]&&w.setRequestHeader("If-Modified-Since",jQuery.lastModified[r]),jQuery.etag[r]&&w.setRequestHeader("If-None-Match",jQuery.etag[r])),(l.data&&l.hasContent&&l.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",l.contentType),w.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+(l.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):l.accepts["*"]);for(f in l.headers)w.setRequestHeader(f,l.headers[f]);if(!l.beforeSend||l.beforeSend.call(c,w,l)!==!1&&y!==2){b="abort";for(f in{success:1,error:1,complete:1})w[f](l[f]);n=inspectPrefiltersOrTransports(transports,l,t,w);if(!n)S(-1,"No Transport");else{w.readyState=1,a&&h.trigger("ajaxSend",[w,l]),l.async&&l.timeout>0&&(o=setTimeout(function(){w.abort("timeout")},l.timeout));try{y=1,n.send(m,S)}catch(E){if(!(y<2))throw E;S(-1,E)}}return w}return w.abort()},getJSON:function(e,t,n){return jQuery.get(e,t,n,"json")},getScript:function(e,t){return jQuery.get(e,undefined,t,"script")}}),jQuery.each(["get","post"],function(e,t){jQuery[t]=function(e,n,r,i){return jQuery.isFunction(n)&&(i=i||r,r=n,n=undefined),jQuery.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){jQuery.fn[t]=function(e){return this.on(t,e)}}),jQuery._evalUrl=function(e){return jQuery.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},jQuery.fn.extend({wrapAll:function(e){var t;return jQuery.isFunction(e)?this.each(function(t){jQuery(this).wrapAll(e.call(this,t))}):(this[0]&&(t=jQuery(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return jQuery.isFunction(e)?this.each(function(t){jQuery(this).wrapInner(e.call(this,t))}):this.each(function(){var t=jQuery(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=jQuery.isFunction(e);return this.each(function(n){jQuery(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){jQuery.nodeName(this,"body")||jQuery(this).replaceWith(this.childNodes)}).end()}}),jQuery.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},jQuery.expr.filters.visible=function(e){return!jQuery.expr.filters.hidden(e)};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;jQuery.param=function(e,t){var n,r=[],i=function(e,t){t=jQuery.isFunction(t)?t():t==null?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};t===undefined&&(t=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional);if(jQuery.isArray(e)||e.jquery&&!jQuery.isPlainObject(e))jQuery.each(e,function(){i(this.name,this.value)});else for(n in e)buildParams(n,e[n],t,i);return r.join("&").replace(r20,"+")},jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=jQuery.prop(this,"elements");return e?jQuery.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(e)&&(this.checked||!rcheckableType.test(e))}).map(function(e,t){var n=jQuery(this).val();return n==null?null:jQuery.isArray(n)?jQuery.map(n,function(e){return{name:t.name,value:e.replace(rCRLF,"\r\n")}}):{name:t.name,value:n.replace(rCRLF,"\r\n")}}).get()}}),jQuery.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var xhrId=0,xhrCallbacks={},xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();window.ActiveXObject&&jQuery(window).on("unload",function(){for(var e in xhrCallbacks)xhrCallbacks[e]()}),support.cors=!!xhrSupported&&"withCredentials"in xhrSupported,support.ajax=xhrSupported=!!xhrSupported,jQuery.ajaxTransport(function(e){var t;if(support.cors||xhrSupported&&!e.crossDomain)return{send:function(n,r){var i,s=e.xhr(),o=++xhrId;s.open(e.type,e.url,e.async,e.username,e.password);if(e.xhrFields)for(i in e.xhrFields)s[i]=e.xhrFields[i];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),!e.crossDomain&&!n["X-Requested-With"]&&(n["X-Requested-With"]="XMLHttpRequest");for(i in n)s.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete xhrCallbacks[o],t=s.onload=s.onerror=null,e==="abort"?s.abort():e==="error"?r(s.status,s.statusText):r(xhrSuccessStatus[s.status]||s.status,s.statusText,typeof s.responseText=="string"?{text:s.responseText}:undefined,s.getAllResponseHeaders()))}},s.onload=t(),s.onerror=t("error"),t=xhrCallbacks[o]=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(u){if(t)throw u}},abort:function(){t&&t()}}}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return jQuery.globalEval(e),e}}}),jQuery.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),jQuery.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=jQuery("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i(e.type==="error"?404:200,e.type)}),document.head.appendChild(t[0])},abort:function(){n&&n()}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=oldCallbacks.pop()||jQuery.expando+"_"+nonce++;return this[e]=!0,e}}),jQuery.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,s,o=e.jsonp!==!1&&(rjsonp.test(e.url)?"url":typeof e.data=="string"&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(e.data)&&"data");if(o||e.dataTypes[0]==="jsonp")return r=e.jsonpCallback=jQuery.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(rjsonp,"$1"+r):e.jsonp!==!1&&(e.url+=(rquery.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||jQuery.error(r+" was not called"),s[0]},e.dataTypes[0]="json",i=window[r],window[r]=function(){s=arguments},n.always(function(){window[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,oldCallbacks.push(r)),s&&jQuery.isFunction(i)&&i(s[0]),s=i=undefined}),"script"}),jQuery.parseHTML=function(e,t,n){if(!e||typeof e!="string")return null;typeof t=="boolean"&&(n=t,t=!1),t=t||document;var r=rsingleTag.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=jQuery.buildFragment([e],t,i),i&&i.length&&jQuery(i).remove(),jQuery.merge([],r.childNodes))};var _load=jQuery.fn.load;jQuery.fn.load=function(e,t,n){if(typeof e!="string"&&_load)return _load.apply(this,arguments);var r,i,s,o=this,u=e.indexOf(" ");return u>=0&&(r=jQuery.trim(e.slice(u)),e=e.slice(0,u)),jQuery.isFunction(t)?(n=t,t=undefined):t&&typeof t=="object"&&(i="POST"),o.length>0&&jQuery.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){s=arguments,o.html(r?jQuery("<div>").append(jQuery.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){o.each(n,s||[e.responseText,t,e])}),this},jQuery.expr.filters.animated=function(e){return jQuery.grep(jQuery.timers,function(t){return e===t.elem}).length};var docElem=window.document.documentElement;jQuery.offset={setOffset:function(e,t,n){var r,i,s,o,u,a,f,l=jQuery.css(e,"position"),c=jQuery(e),h={};l==="static"&&(e.style.position="relative"),u=c.offset(),s=jQuery.css(e,"top"),a=jQuery.css(e,"left"),f=(l==="absolute"||l==="fixed")&&(s+a).indexOf("auto")>-1,f?(r=c.position(),o=r.top,i=r.left):(o=parseFloat(s)||0,i=parseFloat(a)||0),jQuery.isFunction(t)&&(t=t.call(e,n,u)),t.top!=null&&(h.top=t.top-u.top+o),t.left!=null&&(h.left=t.left-u.left+i),"using"in t?t.using.call(e,h):c.css(h)}},jQuery.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){jQuery.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},s=r&&r.ownerDocument;if(!s)return;return t=s.documentElement,jQuery.contains(t,r)?(typeof r.getBoundingClientRect!==strundefined&&(i=r.getBoundingClientRect()),n=getWindow(s),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i},position:function(){if(!this[0])return;var e,t,n=this[0],r={top:0,left:0};return jQuery.css(n,"position")==="fixed"?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),jQuery.nodeName(e[0],"html")||(r=e.offset()),r.top+=jQuery.css(e[0],"borderTopWidth",!0),r.left+=jQuery.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-jQuery.css(n,"marginTop",!0),left:t.left-r.left-jQuery.css(n,"marginLeft",!0)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||docElem;while(e&&!jQuery.nodeName(e,"html")&&jQuery.css(e,"position")==="static")e=e.offsetParent;return e||docElem})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;jQuery.fn[e]=function(r){return access(this,function(e,r,i){var s=getWindow(e);if(i===undefined)return s?s[t]:e[r];s?s.scrollTo(n?window.pageXOffset:i,n?i:window.pageYOffset):e[r]=i},e,r,arguments.length,null)}}),jQuery.each(["top","left"],function(e,t){jQuery.cssHooks[t]=addGetHookIf(support.pixelPosition,function(e,n){if(n)return n=curCSS(e,t),rnumnonpx.test(n)?jQuery(e).position()[t]+"px":n})}),jQuery.each({Height:"height",Width:"width"},function(e,t){jQuery.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){jQuery.fn[r]=function(r,i){var s=arguments.length&&(n||typeof r!="boolean"),o=n||(r===!0||i===!0?"margin":"border");return access(this,function(t,n,r){var i;return jQuery.isWindow(t)?t.document.documentElement["client"+e]:t.nodeType===9?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):r===undefined?jQuery.css(t,n,o):jQuery.style(t,n,r,o)},t,s?r:undefined,s,null)}})}),jQuery.fn.size=function(){return this.length},jQuery.fn.andSelf=jQuery.fn.addBack,typeof define=="function"&&define.amd&&define("jquery",[],function(){return jQuery});var _jQuery=window.jQuery,_$=window.$;return jQuery.noConflict=function(e){return window.$===jQuery&&(window.$=_$),e&&window.jQuery===jQuery&&(window.jQuery=_jQuery),jQuery},typeof noGlobal===strundefined&&(window.jQuery=window.$=jQuery),jQuery});
// 8< ---[extend.js]---
var extend=extend&&extend.Module&&extend.Module("extend")||extend||{};(function(extend){var self=__module__=extend;extend.__VERSION__="2.6.5",extend.Modules={},extend.Counters={Instances:0,Classes:0},extend.Module=function(e){var t=extend;return extend.isDefined(extend.Modules[e])||(extend.Modules[e]={__name__:e}),extend.Modules[e]},extend._wrapMethod=function(e,t){var n=extend;return function(){var n=e[t],r=arguments;switch(r.length){case 0:return n.call(e);case 1:return n.call(e,r[0]);case 2:return n.call(e,r[0],r[1]);case 3:return n.call(e,r[0],r[1],r[2]);case 4:return n.call(e,r[0],r[1],r[2],r[3]);case 5:return n.call(e,r[0],r[1],r[2],r[3],r[4]);case 6:return n.call(e,r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return n.call(e,r[0],r[1],r[2],r[3],r[4],r[5],r[6]);default:return this_method.apply(object,[object].concat(Array.prototype.slice.call(arguments)))}}},extend.Class=function(e){var t=extend,n=e.name,r=function(){if(arguments.length!=1||arguments[0]!="__Extend_SubClass__"){var e=r.listProperties();for(var t in e)this[t]=e[t];if(this.initialize)return this.initialize.apply(this,arguments)}};r.isClass=function(){return!0},r._parent=e.parent,r._name=e.name,r._properties={all:{},inherited:{},own:{}},r._shared={all:{},inherited:{},own:{}},r._operations={all:{},inherited:{},own:{},fullname:{}},r._methods={all:{},inherited:{},own:{},fullname:{}},r.getName=function(){return r._name},r.getParent=function(){return r._parent},r.id=extend.Counters.Classes,r._wrapMethod=extend._wrapMethod,extend.Counters.Classes=extend.Counters.Classes+1,r.isSubclassOf=function(e){var t=this;while(t){if(t==e)return!0;t=t.getParent()}return!1},r.hasInstance=function(e){return e&&extend.isDefined(e.getClass)&&e.getClass().isSubclassOf(r)},r.getOperation=function(e){var t=r[e];if(!t)return null;r.__operationCache||(r.__operationCache={});var n=r.__operationCache[e];return n||(n=function(){return t.apply(r,arguments)},r.__operationCache[e]=n),n},r.listMethods=function(e,t){return e===undefined&&(e=!0),t===undefined&&(t=!0),e&&t?r._methods.all:!e&&t?r._methods.inherited:e&&!t?r._methods.own:{}},r.listOperations=function(e,t){return e===undefined&&(e=!0),t===undefined&&(t=!0),e&&t?r._operations.all:!e&&t?r._operations.inherited:e&&!t?r._operations.own:{}},r.listShared=function(e,t){return e===undefined&&(e=!0),t===undefined&&(t=!0),e&&t?r._shared.all:!e&&t?r._shared.inherited:e&&!t?r._shared.own:{}},r.listProperties=function(e,t){return e===undefined&&(e=!0),t===undefined&&(t=!0),e&&t?r._properties.all:!e&&t?r._properties.inherited:e&&!t?r._properties.own:{}},r.proxyWithState=function(e){var t={},n=undefined,i=function(t){return function(){return t.apply(e,arguments)}},s=function(){return r.prototype.initialize.apply(e,arguments)};s.prototype=t;for(var o in r.prototype){var u=i(r.prototype[o]);o=="initialize"&&(n=u),t[o]=u,s[o]=u}return s.getSuper=function(){return r.getParent().proxyWithState(e)},s};if(e.parent!=undefined){for(var i in e.parent._operations.fullname){var s=e.parent._operations.fullname[i];r._operations.fullname[i]=s,r[i]=s}for(var i in e.parent._operations.all){var s=e.parent[i];r[i]=s,r._operations.all[i]=s,r._operations.inherited[i]=s}for(var i in e.parent._methods.all){var o=e.parent._methods.all[i];r._methods.all[i]=o,r._methods.inherited[i]=o}for(var i in e.parent._shared.all){var u=e.parent._shared.all[i];r[i]=u,r._shared.all[i]=u,r._shared.inherited[i]=u}for(var i in e.parent._properties.all){var a=e.parent._properties.all[i];r._properties.all[i]=a,r._properties.inherited[i]=a}}if(e.operations!=undefined)for(var i in e.operations){var s=e.operations[i];r[i]=s,r[n+"_"+i]=s,r._operations.all[i]=s,r._operations.all[i]=s,r._operations.own[i]=s,r._operations.fullname[n+"_"+i]=s}if(e.methods!=undefined)for(var i in e.methods){var o=e.methods[i];r._methods.all[i]=o,r._methods.own[i]=o}if(e.shared!=undefined)for(var i in e.shared){var u=e.shared[i];r[i]=u,r._shared.all[i]=u,r._shared.own[i]=u}if(e.properties!=undefined)for(var i in e.properties){var u=e.properties[i];r._properties.all[i]=u,r._properties.own[i]=u}var f={};e.parent&&(f=new e.parent("__Extend_SubClass__"),f.constructor=r),f.isInstance=undefined,f.getClass=function(){return r},f.isClass=function(){return!1},f._methodCache=undefined,f.getMethod=function(e){var t=this;t.__methodCache||(t.__methodCache={});var n=t.__methodCache[e];return n||(n=r._wrapMethod(t,e),t.__methodCache[e]=n),n},f.getCallback=function(e){var t=this,t=this;t.__methodCache||(t.__methodCache={});var n=e+"_k";if(t.__methodCache[n])return t.__methodCache[n];var i=r._wrapMethod(t,e);return t.__methodCache[n]=i,i},f.isInstance=function(e){return e.hasInstance(this)},e.initialize?f.initialize=e.initialize:f.instance_proto={},f.getSuper=function(e){return typeof this._extendProxyWithState=="undefined"?this._extendProxyWithState=extend.createMapFromItems([e.id,e.proxyWithState(this)]):typeof this._extendProxyWithState[e.id]=="undefined"&&(this._extendProxyWithState[e.id]=e.proxyWithState(this)),this._extendProxyWithState[e.id]};if(e.operations!=undefined)for(var i in e.operations)f[i]=f[n+"_"+i]=r.getOperation(i);if(e.methods!=undefined)for(var i in e.methods)f[i]=f[n+"_"+i]=e.methods[i];return e.initialize!=undefined&&(f.initialize=f[n+"_initialize"]=e.initialize),r.prototype=f,e.name&&extend.Registry!=undefined&&(extend.Registry[e.name]=r),r},extend.Protocol=function(e){var t=extend},extend.Singleton=function(e){var t=extend},extend.ErrorCallback=undefined,extend.WarningCallback=undefined,extend.DebugCallback=undefined,extend.PrintCallback=undefined,extend.Nothing=new Object,extend.Timeout=new Object,extend.Error=new Object,extend.FLOW_CONTINUE=new Object,extend.FLOW_BREAK=new Object,extend.FLOW_RETURN=new Object,extend.OPTIONS={modulePrefix:"lib/sjs/",moduleSuffix:".sjs"},extend.require=function(e){var t=extend;if(!extend.Modules[e]){var n=document.getElementByTagName("head")[0],r=document.createElement("script");r.setAttribute("src",extend.OPTIONS.modulePrefix+e+extend.OPTIONS.moduleSuffix),n.appendChild(r)}},extend.invoke=function(e,t,n,r){var i=extend,s=t.__meta__,o=[];extend.iterate(r["*"],function(e){n.push(e)},i),extend.iterate(r["**"],function(e,t){r[t]=e},i),extend.iterate(n,function(e){o.push(n)},i);var u=n.length;while(u<s.arity){var a=s.arguments[u];o.push(r[a.name]),u+=1}return t.apply(e,o)},extend.str=function(e){var t=extend;return""+e},extend.range=function(e,t,n){var r=extend;n=n===undefined?1:n;var i=[];extend.isDefined(t)||(t=e,e=0);if(e<t)for(var s=e;s<t;s+=n)i.push(s);else if(e>t)for(var s=e;s>t;s-=n)i.push(s);return i},extend.sliceArguments=function(e,t){var n=extend,r=[];while(t<e.length)r.push(e[t++]);return r},extend.len=function(e){var t=extend;if(extend.isList(e))return e.length;if(extend.isObject(e)){if(extend.isDefined(e.length))return e.length;if(extend.isDefined(e.__len__))return e.__len__();var n=0;for(var r in e)n+=1;return n}return extend.isString(e)?e.length:null},extend.iterate=function(e,t,n){var r=extend;if(!e)return;var i=undefined;if(e.forEach)try{i=e.forEach(t)}catch(s){if(s!==extend.FLOW_CONTINUE){if(s===extend.FLOW_BREAK)return s;if(s===extend.FLOW_RETURN)return s;throw s}}else if(e.length!=undefined){var o=undefined;if(typeof e.__len__=="function"&&typeof e.__getitem__=="function"){o=e.__len__();for(var u=0;u<o;u++)try{i=t.call(n,e.__getitem__(u),u)}catch(s){if(s!==extend.FLOW_CONTINUE){if(s===extend.FLOW_BREAK)return s;if(s===extend.FLOW_RETURN)return s;throw s}}}else{o=e.length;for(var u=0;u<o;u++){var i=undefined;try{i=t.call(n,e[u],u)}catch(s){if(s!==extend.FLOW_CONTINUE){if(s===extend.FLOW_BREAK)return s;if(s===extend.FLOW_RETURN)return s;throw s}}}}}else for(var a in e){var i=undefined;try{i=t.call(n,e[a],a)}catch(s){if(s!==extend.FLOW_CONTINUE){if(s===extend.FLOW_BREAK)return s;if(s===extend.FLOW_RETURN)return s;throw s}}}if(i!==undefined)return i},extend.access=function(e,t){var n=extend;if(t>=0)return e[t];if(typeof e=="string"||extend.isList(e)||e&&extend.isNumber(e.length))return e[e.length+t];throw"extend.access:Type not supported:"+e},extend.keys=function(e){var t=extend;if(extend.isString(e)||extend.isNumber(e))return null;if(extend.isList(e))return extend.map(e,function(e,t){return t});var n=[];for(var r in e)n.push(r);return n},extend.values=function(e){var t=extend;if(extend.isString(e)||extend.isNumber(e))return null;if(extend.isList(e))return[].concat(e);var n=[];for(var r in e)n.push(e[r]);return n},extend.items=function(e){var t=extend;if(extend.isString(e)||extend.isNumber(e))return null;if(extend.isList(e))return extend.map(e,function(e,t){return{key:t,value:e}});var n=[];for(var r in e)n.push({key:r,value:e[r]});return n},extend.pairs=function(e){var t=extend;if(extend.isString(e)||extend.isNumber(e))return null;if(extend.isList(e))return extend.map(e,function(e,t){return[t,e]});var n=[];return extend.iterate(e,function(e,t){n.push([t,e])},t),n},extend.greater=function(e,t){var n=extend;return extend.cmp(e,t)>0},extend.smaller=function(e,t){var n=extend;return extend.cmp(e,t)<0},extend.cmp=function(e,t){var n=extend;if(extend.isList(e)&&extend.isList(t)){var r=extend.len(e),i=extend.len(t),s=Math.max(r,i),o=0,u=0;while(o==0&&u<s)o=extend.cmp(e[u],t[u]),u+=1;return o}if(extend.isMap(e)&&extend.isMap(t)){var o=0;return extend.iterate(e,function(e,n){var r=t[n];extend.isDefined(e)&&extend.isDefined(r)&&(o=extend.cmp(e,r));if(o!=0)throw extend.FLOW_BREAK},n),o==0&&extend.iterate(t,function(t,n){var r=e[n];extend.isDefined(r)&&extend.isDefined(t)&&(o=extend.cmp(r,t));if(o!=0)throw extend.FLOW_BREAK},n),o}return extend.isString(e)&&extend.isString(t)&&extend.isDefined(e.localeCompare)?e.localeCompare(t):e===t?0:e==t?0:e===extend.Nothing?-1:t===extend.Nothing?1:e>t?1:e<t?-1:extend.isDefined(t)?extend.isDefined(e)?0:-1:1},extend.sorted=function(e,t,n){var r=extend;t=t===undefined?extend.cmp:t,n=n===undefined?!1:n;if(extend.isList(t)){var i=extend.len(t)-1,s=function(e,n){var s=0;return extend.iterate(t,function(t,r){var o=t(e),u=t(n),f=extend.cmp(o,u)*Math.pow(10,i-r);s+=f},r),s};return extend.sorted(e,s,n)}if(extend.isList(e))return e=extend.copy(e),e.sort(t),n&&e.reverse(),e;if(extend.isMap(e))return extend.sorted(extend.values(e),extend.cmp,n);if(extend.isNumber(e)||extend.isString(e))return e;if(!e)return e;throw"Not implemented"},extend.copy=function(e,t){var n=extend;t=t===undefined?1:t;if(t<1)return e;if(extend.isList(e))return t<=1?e&&e.concat?[].concat(e):extend.map(e,function(e){return e}):extend.map(e,function(e){return extend.copy(e,t-1)});if(extend.isObject(e)){var r={};for(var i in e)t<=1?r[i]=e[i]:r[i]=extend.copy(e[i],t-1);return r}return e},extend.merge=function(e,t,n){var r=extend;return n=n===undefined?!1:n,extend.isList(e)?(extend.assert(extend.isList(t),"extend.merge(a,b) b expected to be a list"),extend.iterate(t,function(t){extend.find(e,t)==-1&&e.push(t)},r)):extend.isMap(e)?(extend.assert(extend.isMap(t),"extend.merge(a,b) b expected to be a map"),extend.iterate(t,function(t,r){if(!extend.isDefined(e[r])||n)e[r]=t},r)):extend.error("extend.merge(a,_) expects a to be a list or a map"),e},extend.couplesAsMap=function(e){var t=extend;if(extend.isList(e)){var n={};return extend.iterate(e,function(e,t){n[e[0]]=e[1]},t),n}return extend.error("couplesAsMap: expects [[<key>, <value>]] as input, got",e),null},extend.itemsAsMap=function(e){var t=extend;if(extend.isList(e)){var n={};return extend.iterate(e,function(e,t){n[e.key]=e.value},t),n}return extend.error("itemsAsMap: expects [[{key:<key>, value:<value>}] as input, got",e),null},extend.find=function(e,t){var n=extend,r=-1;return extend.iterate(e,function(e,n){if(e==t&&r==-1)throw r=n,extend.FLOW_BREAK},n),r},extend.findLike=function(e,t){var n=extend,r=-1;return extend.iterate(e,function(e,n){if(t(e)&&r==-1)throw r=n,extend.FLOW_BREAK},n),r},extend.findOneOf=function(e,t){var n=extend,r=-1;return extend.iterate(e,function(e,n){if(extend.isIn(e,t))throw r=n,extend.FLOW_BREAK},n),r},extend.first=function(e,t){var n=extend,r=extend.findLike(e,t);return r===null?null:e[r]},extend.last=function(e,t){var n=extend,r=null;return extend.iterate(e,function(e,n){t(e)&&(r=e)},n),r},extend.replace=function(e,t,n){var r=extend;if(extend.isString(e))while(e.indexOf(t)!=-1)e=e.replace(t,n);else extend.error("extend.replace only supports string for now");return e},extend.slice=function(e,t,n){var r=extend;t=t===undefined?0:t,n=n===undefined?undefined:n;if(extend.isString(e))return n===undefined&&(n=e.length),t<0&&(t=e.length+t),n<0&&(n=e.length+n),e.substring(t,n);if(extend.isList(e))return n===undefined&&(n=e.length),t<0&&(t=e.length+t),n<0&&(n=e.length+n),e.slice(t,n);if(extend.isObject(e)&&extend.isDefined(e.length)){var i=[];n===undefined&&(n=e.length),t<0&&(t=e.length+t),n<0&&(n=e.length+n);var s=t;while(s<n)i.push(e[s]);return i}throw"Unsupported type for slice:"+e},extend.equals=function(e,t){var n=extend;return e==t},extend.isIn=function(e,t,n){var r=extend;n=n===undefined?extend.equals:n;if(extend.isList(t)){if(t.some)return t.some(function(t){return n(t,e)});for(var i=0;i<t.length;i++)if(n(t[i],e))return!0;return!1}if(extend.isMap(t)){for(var i in t)if(n(t[i],e))return!0;return!1}return!1},extend.difference=function(e,t){var n=extend;if(!e||extend.len(e)==0)return e;if(!t||extend.len(t)==0)return e;if(!extend.isList(e)){if(extend.isMap(e)){if(extend.isMap(t)){var r=extend.keys(t);return extend.filter(e,function(e,n){return!extend.isIn(n,t.keys)})}return extend.isList(t)?extend.filter(e,function(e){return!extend.isIn(e,t)}):(extend.error("extend.difference: Unsupported type fot b, "+extend.type(t)),null)}return extend.error("extend.difference: Unsupported type fot a, "+extend.type(e)),null}extend.isMap(t)&&(t=extend.values(t));if(extend.isList(t))return extend.filter(e,function(e){return!extend.isIn(e,t)});extend.error("extend.difference: Unsupported type fot b, "+extend.type(t))},extend.union=function(e,t){var n=extend;if(!e||extend.len(e)==0)return t;if(!t||extend.len(t)==0)return e;if(!extend.isList(e))return extend.isMap(e)?(e=extend.copy(e),extend.isMap(t)?extend.merge(e,t):extend.isList(t)?(extend.iterate(t,function(t,n){extend.isDefined(e[n])||(e[n]=t)},n),e):(extend.error("extend.union: Unsupported type fot b, "+extend.type(t)),null)):(extend.error("extend.union: Unsupported type fot a, "+extend.type(e)),null);extend.isMap(t)&&(t=extend.values(t));if(extend.isList(t)){var r=[].concat(e);return extend.iterate(t,function(t){extend.isIn(t,e)||r.push(t)},n),r}extend.error("extend.union: Unsupported type fot b, "+extend.type(t))},extend.intersection=function(e,t){var n=extend;extend.error("NotImplemented")},extend.createMapFromItems=function(e){var t=extend;e=extend.sliceArguments(arguments,0);var n={};for(var r=0;r<e.length;r++)n[e[r][0]]=e[r][1];return n},extend.type=function(e){var t=extend;return typeof e},extend.isDefined=function(e){var t=extend;return e!==undefined},extend.isList=function(e){var t=extend;return typeof Float64Array!="undefined"?e instanceof Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array:e instanceof Array},extend.isNumber=function(e){var t=extend;return typeof e=="number"},extend.isString=function(e){var t=extend;return typeof e=="string"},extend.isMap=function(e){var t=extend;return e!==null&&typeof e=="object"&&!extend.isList(e)},extend.isIterable=function(e){var t=extend;return extend.isList(e)||e&&typeof e.length=="number"},extend.isFunction=function(e){var t=extend;return typeof e=="function"},extend.isObject=function(e){var t=extend;return typeof e=="object"},extend.isInstance=function(e,t){var n=extend;t=t===undefined?undefined:t;if(t){var r=!1;return r=e instanceof t,extend.isDefined(e.getClass)&&e.isInstance(t)||r}return extend.isDefined(e.getClass)},extend.getType=function(e){var t=extend;return extend.isDefined(e)?e===null?"none":extend.isNumber(e)?"number":extend.isString(e)?"string":extend.isList(e)?"list":extend.isMap(e)?"map":extend.isFunction(e)?"function":extend.isObject(e)?extend.isFunction(e.getClass)?"instance":"object":"unknown":"undefined"},extend.getMethodOf=function(e,t){var n=extend;return e[t]},extend.getClassOf=function(e){var t=extend;return e.getClass()},extend.print=function(args){var self=extend;args=extend.sliceArguments(arguments,0);var pr_func=eval("print");if(typeof console=="undefined"&&typeof pr_func=="undefined"&&extend.PrintCallback===undefined)return null;var res="";for(var i=0;i<args.length;i++){var val=args[i];val!=undefined&&typeof val=="object"&&val.toSource!=undefined&&(val=val.toSource()),i<args.length-1?res+=val+" ":res+=val}return extend.PrintCallback===undefined?typeof console!="undefined"?console.log(res):typeof document=="undefined"&&typeof pr_func!="undefined"&&pr_func(res):extend.PrintCallback(res),args},extend.warning=function(e){var t=extend;return e=extend.sliceArguments(arguments,0),extend.WarningCallback?extend.WarningCallback.apply(extend,e):extend.print.apply(extend,["[!] "].concat(e)),e},extend.error=function(e){var t=extend;return e=extend.sliceArguments(arguments,0),extend.ErrorCallback?extend.ErrorCallback.apply(extend,e):extend.print.apply(extend,["[!] "].concat(e)),e},extend.debug=function(e){var t=extend;return e=extend.sliceArguments(arguments,0),extend.DebugCallback?extend.DebugCallback.apply(extend,e):extend.print.apply(extend,["[!] "].concat(e)),e},extend.assert=function(e,t){var n=extend;return t=extend.sliceArguments(arguments,1),e||extend.error.apply(extend,t),t},extend.fail=function(e){var t=extend;return e=extend.sliceArguments(arguments,0),extend.error.apply(extend,e),!1},extend.sprintf=function(){var e=extend,t=function(e,t){for(var n=[];t>0;n[--t]=e);return n.join("")},n=0,r,i=arguments[n++],s=[],o,u,a,f;while(i){if(o=/^[^\x25]+/.exec(i))s.push(o[0]);else if(o=/^\x25{2}/.exec(i))s.push("%");else{if(!(o=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(i)))throw"Huh ?!";if((r=arguments[o[1]||n++])==null||r==undefined)throw"Too few arguments.";if(/[^s]/.test(o[7])&&typeof r!="number")throw"Expecting number but found "+typeof r;switch(o[7]){case"b":r=r.toString(2);break;case"c":r=String.fromCharCode(r);break;case"d":r=parseInt(r);break;case"e":r=o[6]?r.toExponential(o[6]):r.toExponential();break;case"f":r=o[6]?parseFloat(r).toFixed(o[6]):parseFloat(r);break;case"o":r=r.toString(8);break;case"s":r=(r=String(r))&&o[6]?r.substring(0,o[6]):r;break;case"u":r=Math.abs(r);break;case"x":r=r.toString(16);break;case"X":r=r.toString(16).toUpperCase()}r=/[def]/.test(o[7])&&o[2]&&r>0?"+"+r:r,a=o[3]?o[3]=="0"?"0":o[3].charAt(1):" ",f=o[5]-String(r).length,u=o[5]?t(a,f):"",s.push(o[4]?r+u:u+r)}i=i.substring(o[0].length)}return s.join("")},extend.Registry={},extend.getClass=function(e){var t=extend;return extend.Registry[e]},extend.getParentClass=function(e){var t=extend;return extend.Registry[name]},extend.getClasses=function(){var e=extend;return extend.Registry},extend.getMethod=function(e,t){var n=extend},extend.getSuperMethod=function(e,t){var n=extend},extend.getChildrenOf=function(e){var t=extend,n={},r=extend.getClasses();for(key in r)r[key]!=e&&r[key].isSubclassOf(e)&&(n[key]=r[key]);return n},extend.strip=function(e){var t=extend;return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},extend.car=function(e){var t=extend;return e.length>0?e[0]:null},extend.cdr=function(e){var t=extend;return e.length==0?null:e.length==1?[]:extend.slice(e,1,undefined)},extend.asMap=function(e,t,n){var r=extend;n=n===undefined?undefined:n;var i={};return extend.iterate(e,function(e,r){r=t(e,r),extend.isDefined(i[r])&&extend.isDefined(n)?i[r]=n(e,i[r],r):i[r]=e},r),i},extend.map=function(e,t){var n=extend,r=null;return extend.isList(e)?e.map?r=e.map(t):(r=[],extend.iterate(e,function(e,n){r.push(t(e,n))},n)):extend.isMap(e)?(r={},extend.iterate(e,function(e,n){r[n]=t(e,n)},n)):extend.isIterable(e)?(r=[],extend.iterate(e,function(e,n){r.push(t(e,n))},n)):(r={},extend.iterate(e,function(e,n){r[n]=t(e,n)},n)),r},extend.filter=function(e,t){var n=extend,r=null;return extend.isList(e)?e.filter?r=e.filter(t):(r=[],extend.iterate(e,function(e,n){t(e,n)&&r.push(e)},n)):extend.isMap(e)?(r={},extend.iterate(e,function(e,n){t(e,n)&&(r[n]=e)},n)):extend.isIterable(e)?(r=[],extend.iterate(e,function(e,n){t(e,n)&&r.push(e)},n)):(r={},extend.iterate(e,function(e,n){t(e,n)&&(r[n]=e)},n)),r},extend.reduce=function(e,t,n){var r=extend;n=n===undefined?undefined:n;var i=n,s=0;return extend.iterate(e,function(e,n){var r=undefined;s==0&&!extend.isDefined(i)?r=e:r=t(i,e,n,s),extend.isDefined(r)&&(i=r),s+=1},r),i},extend.foldl=function(e,t,n){var r=extend;return extend.reduce(e,n,t)},extend.extendPrimitiveTypes=function(){var e=extend;String.prototype.__len__=function(){return this.length},Array.prototype.extend=function(t){extend.iterate(t,function(e){this.append(e)},e)},Array.prototype.append=function(e){this.push(e)},Array.prototype.insert=function(e,t){this.splice(t,e)},Array.prototype.slice=function(){},Array.prototype.__iter__=function(){return this.length},Array.prototype.__len__=function(){return this.length},Object.prototype.keys=function(){var e=[];for(var t in this){var n=t;e.push(n)}return e},Object.prototype.items=function(){var e=[];for(var t in this){var n=t;e.push([n,this[n]])}return e},Object.prototype.values=function(){var e=[];for(var t in this){var n=t;e.push([n,this[n]])}return e},Object.prototype.hasKey=function(e){return typeof this[e]!="undefined"},Object.prototype.get=function(e){return this[e]},Object.prototype.set=function(e,t){return this[e]=t,this},Object.prototype.setDefault=function(e,t){return typeof this[e]!="undefined"?this[e]:(this[e]=t,t)},Object.prototype.__iter__=function(){},Object.prototype.__len__=function(){return this.keys().length}},extend.init=function(){var e=extend},typeof extend.init!="undefined"&&extend.init()})(extend);
var html={_namespace:null,_NAMESPACES:{svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"}};html.__ce=function(e,t){if(html._namespace)var n=document.createElementNS(html._namespace,e);else var n=document.createElement(e);var r=function(e,t){if(t==undefined)return;if(typeof t=="string")e.appendChild(document.createTextNode(t));else if(typeof t=="object"&&typeof t.jquery!="undefined")for(var n=0;n<t.length;n++)r(e,t[n]);else if(typeof t=="object"&&typeof t.nodeType!="undefined")e.appendChild(t);else if(typeof t=="object"&&t instanceof Array)for(var n=0;n<t.length;n++)r(e,t[n]);else{var i=!1;for(var s in t){var o=null,u=s.lastIndexOf(":"),a=t[s];u>=0&&(o=s.substr(0,u),o=html._NAMESPACES[o]||o,s=s.substr(u+1,s.length));if(s=="_"||s=="_class"||s=="klass")s="class";o?e.setAttributeNS(o,s,a):e.setAttribute(s,a),i=!0}i||e.appendChild(document.createTextNode(""+t))}};for(var i=0;i<t.length;i++)r(n,t[i]);return n},html.address=function(){return html.__ce("address",arguments)},html.applet=function(){return html.__ce("applet",arguments)},html.area=function(){return html.__ce("area",arguments)},html.a=function(){return html.__ce("a",arguments)},html.base=function(){return html.__ce("base",arguments)},html.basefont=function(){return html.__ce("basefont",arguments)},html.big=function(){return html.__ce("big",arguments)},html.blockquote=function(){return html.__ce("blockquote",arguments)},html.body=function(){return html.__ce("body",arguments)},html.br=function(){return html.__ce("br",arguments)},html.b=function(){return html.__ce("b",arguments)},html.caption=function(){return html.__ce("caption",arguments)},html.center=function(){return html.__ce("center",arguments)},html.cite=function(){return html.__ce("cite",arguments)},html.code=function(){return html.__ce("code",arguments)},html.dd=function(){return html.__ce("dd",arguments)},html.dfn=function(){return html.__ce("dfn",arguments)},html.dir=function(){return html.__ce("dir",arguments)},html.div=function(){return html.__ce("div",arguments)},html.dl=function(){return html.__ce("dl",arguments)},html.dt=function(){return html.__ce("dt",arguments)},html.em=function(){return html.__ce("em",arguments)},html.font=function(){return html.__ce("font",arguments)},html.form=function(){return html.__ce("form",arguments)},html.h1=function(){return html.__ce("h1",arguments)},html.h2=function(){return html.__ce("h2",arguments)},html.h3=function(){return html.__ce("h3",arguments)},html.h4=function(){return html.__ce("h4",arguments)},html.h5=function(){return html.__ce("h5",arguments)},html.h6=function(){return html.__ce("h6",arguments)},html.head=function(){return html.__ce("head",arguments)},html.hr=function(){return html.__ce("hr",arguments)},html.html=function(){return html.__ce("html",arguments)},html.img=function(){return html.__ce("img",arguments)},html.input=function(){return html.__ce("input",arguments)},html.isindex=function(){return html.__ce("isindex",arguments)},html.i=function(){return html.__ce("i",arguments)},html.kbd=function(){return html.__ce("kbd",arguments)},html.link=function(){return html.__ce("link",arguments)},html.li=function(){return html.__ce("li",arguments)},html.map=function(){return html.__ce("map",arguments)},html.menu=function(){return html.__ce("menu",arguments)},html.meta=function(){return html.__ce("meta",arguments)},html.ol=function(){return html.__ce("ol",arguments)},html.option=function(){return html.__ce("option",arguments)},html.param=function(){return html.__ce("param",arguments)},html.pre=function(){return html.__ce("pre",arguments)},html.p=function(){return html.__ce("p",arguments)},html.samp=function(){return html.__ce("samp",arguments)},html.script=function(){return html.__ce("script",arguments)},html.select=function(){return html.__ce("select",arguments)},html.small=function(){return html.__ce("small",arguments)},html.strike=function(){return html.__ce("strike",arguments)},html.strong=function(){return html.__ce("strong",arguments)},html.style=function(){return html.__ce("style",arguments)},html.sub=function(){return html.__ce("sub",arguments)},html.sup=function(){return html.__ce("sup",arguments)},html.table=function(){return html.__ce("table",arguments)},html.td=function(){return html.__ce("td",arguments)},html.textarea=function(){return html.__ce("textarea",arguments)},html.th=function(){return html.__ce("th",arguments)},html.title=function(){return html.__ce("title",arguments)},html.tr=function(){return html.__ce("tr",arguments)},html.tt=function(){return html.__ce("tt",arguments)},html.ul=function(){return html.__ce("ul",arguments)},html.u=function(){return html.__ce("u",arguments)},html._var=function(){return html.__ce("var",arguments)},html.a=function(){return html.__ce("a",arguments)},html.abbr=function(){return html.__ce("abbr",arguments)},html.acronym=function(){return html.__ce("acronym",arguments)},html.address=function(){return html.__ce("address",arguments)},html.applet=function(){return html.__ce("applet",arguments)},html.area=function(){return html.__ce("area",arguments)},html.article=function(){return html.__ce("article",arguments)},html.aside=function(){return html.__ce("aside",arguments)},html.audio=function(){return html.__ce("audio",arguments)},html.b=function(){return html.__ce("b",arguments)},html.base=function(){return html.__ce("base",arguments)},html.basefont=function(){return html.__ce("basefont",arguments)},html.bdo=function(){return html.__ce("bdo",arguments)},html.big=function(){return html.__ce("big",arguments)},html.blockquote=function(){return html.__ce("blockquote",arguments)},html.body=function(){return html.__ce("body",arguments)},html.br=function(){return html.__ce("br",arguments)},html.button=function(){return html.__ce("button",arguments)},html.canvas=function(){return html.__ce("canvas",arguments)},html.caption=function(){return html.__ce("caption",arguments)},html.center=function(){return html.__ce("center",arguments)},html.cite=function(){return html.__ce("cite",arguments)},html.code=function(){return html.__ce("code",arguments)},html.col=function(){return html.__ce("col",arguments)},html.colgroup=function(){return html.__ce("colgroup",arguments)},html.command=function(){return html.__ce("command",arguments)},html.datalist=function(){return html.__ce("datalist",arguments)},html.dd=function(){return html.__ce("dd",arguments)},html.del=function(){return html.__ce("del",arguments)},html.details=function(){return html.__ce("details",arguments)},html.dfn=function(){return html.__ce("dfn",arguments)},html.dir=function(){return html.__ce("dir",arguments)},html.div=function(){return html.__ce("div",arguments)},html.dl=function(){return html.__ce("dl",arguments)},html.dt=function(){return html.__ce("dt",arguments)},html.em=function(){return html.__ce("em",arguments)},html.embed=function(){return html.__ce("embed",arguments)},html.fieldset=function(){return html.__ce("fieldset",arguments)},html.figcaption=function(){return html.__ce("figcaption",arguments)},html.figure=function(){return html.__ce("figure",arguments)},html.font=function(){return html.__ce("font",arguments)},html.footer=function(){return html.__ce("footer",arguments)},html.form=function(){return html.__ce("form",arguments)},html.frame=function(){return html.__ce("frame",arguments)},html.frameset=function(){return html.__ce("frameset",arguments)},html.h1=function(){return html.__ce("h1",arguments)},html.head=function(){return html.__ce("head",arguments)},html.header=function(){return html.__ce("header",arguments)},html.hgroup=function(){return html.__ce("hgroup",arguments)},html.hr=function(){return html.__ce("hr",arguments)},html.html=function(){return html.__ce("html",arguments)},html.i=function(){return html.__ce("i",arguments)},html.iframe=function(){return html.__ce("iframe",arguments)},html.img=function(){return html.__ce("img",arguments)},html.input=function(){return html.__ce("input",arguments)},html.ins=function(){return html.__ce("ins",arguments)},html.keygen=function(){return html.__ce("keygen",arguments)},html.kbd=function(){return html.__ce("kbd",arguments)},html.label=function(){return html.__ce("label",arguments)},html.legend=function(){return html.__ce("legend",arguments)},html.li=function(){return html.__ce("li",arguments)},html.link=function(){return html.__ce("link",arguments)},html.map=function(){return html.__ce("map",arguments)},html.mark=function(){return html.__ce("mark",arguments)},html.menu=function(){return html.__ce("menu",arguments)},html.meta=function(){return html.__ce("meta",arguments)},html.meter=function(){return html.__ce("meter",arguments)},html.nav=function(){return html.__ce("nav",arguments)},html.noframes=function(){return html.__ce("noframes",arguments)},html.noscript=function(){return html.__ce("noscript",arguments)},html.object=function(){return html.__ce("object",arguments)},html.ol=function(){return html.__ce("ol",arguments)},html.optgroup=function(){return html.__ce("optgroup",arguments)},html.option=function(){return html.__ce("option",arguments)},html.output=function(){return html.__ce("output",arguments)},html.p=function(){return html.__ce("p",arguments)},html.param=function(){return html.__ce("param",arguments)},html.pre=function(){return html.__ce("pre",arguments)},html.progress=function(){return html.__ce("progress",arguments)},html.q=function(){return html.__ce("q",arguments)},html.rp=function(){return html.__ce("rp",arguments)},html.rt=function(){return html.__ce("rt",arguments)},html.ruby=function(){return html.__ce("ruby",arguments)},html.s=function(){return html.__ce("s",arguments)},html.samp=function(){return html.__ce("samp",arguments)},html.script=function(){return html.__ce("script",arguments)},html.section=function(){return html.__ce("section",arguments)},html.select=function(){return html.__ce("select",arguments)},html.small=function(){return html.__ce("small",arguments)},html.source=function(){return html.__ce("source",arguments)},html.span=function(){return html.__ce("span",arguments)},html.strike=function(){return html.__ce("strike",arguments)},html.strong=function(){return html.__ce("strong",arguments)},html.style=function(){return html.__ce("style",arguments)},html.sub=function(){return html.__ce("sub",arguments)},html.summary=function(){return html.__ce("summary",arguments)},html.sup=function(){return html.__ce("sup",arguments)},html.table=function(){return html.__ce("table",arguments)},html.tbody=function(){return html.__ce("tbody",arguments)},html.td=function(){return html.__ce("td",arguments)},html.textarea=function(){return html.__ce("textarea",arguments)},html.tfoot=function(){return html.__ce("tfoot",arguments)},html.th=function(){return html.__ce("th",arguments)},html.thead=function(){return html.__ce("thead",arguments)},html.time=function(){return html.__ce("time",arguments)},html.title=function(){return html.__ce("title",arguments)},html.tr=function(){return html.__ce("tr",arguments)},html.tt=function(){return html.__ce("tt",arguments)},html.u=function(){return html.__ce("u",arguments)},html.ul=function(){return html.__ce("ul",arguments)},html._var=function(){return html.__ce("var",arguments)},html.video=function(){return html.__ce("video",arguments)},html.wbr=function(){return html.__ce("wbr",arguments)},html.xmp=function(){return html.__ce("xmp",arguments)};
// 8< ---[texto.js]---
var texto=extend&&extend.Module&&extend.Module("texto")||texto||{};(function(texto){var self=__module__=texto;texto.INDEX_SELECTORS=["h1","h2","h3","h4","a.anchor"],texto.SOURCE_PREFIX="__source__=",texto.renderTitle=function(){var e=texto,t=$(".document > header"),n=t.find("h1").text(),r=t.find("h2").text();$("head title").text(n+"/"+r)},texto._renderIndex=function(e,t){var n=texto;e=e===undefined?".document":e;if(extend.len(t)==0)return null;var r=null;return extend.iterate($(e).find(t[0]),function(e,n){if(e.parentNode.nodeName!="HEADER"&&!e.parentNode.classList.contains("title")){var i=e;if(e.nodeName!="A")while(i&&!i.classList.contains("section")&&!i.classList.contains("document"))i=i.parentNode;r=r||html.ul({_:"type-"+t[0].split(".").join("_")});var s=e.textContent,o=null;if(e.nodeName=="A"){o=e.getAttribute("name");var u=$(e.parentNode),a=u.find(".classifier").text();s=u.find("code").text()}else o=s.toLowerCase().split(" ").join("_");var f=html.li(html.a({href:"#"+o},s));r.appendChild(f);var l=texto._renderIndex(i,extend.slice(t,1,undefined));l&&(f.classList.add("has-children"),f.appendChild(l))}},n),r||(r=texto._renderIndex(e,extend.slice(t,1,undefined))),r},texto.renderIndex=function(){var e=texto,t=html.div({_:"texto-index"},n),n=texto._renderIndex(".document",texto.INDEX_SELECTORS);t.appendChild(n),$(".use-texto:first").append(t)},texto.renderScripts=function(selector){var self=texto;selector=selector===undefined?"script.with-source":selector,extend.iterate($(selector),function(_){_=$(_);var source=_.text(),i=source.indexOf(texto.SOURCE_PREFIX);i>=0&&(source=eval(extend.slice(source,i+extend.len(texto.SOURCE_PREFIX),extend.len(source))));var action_show=$(html.button("Show source")),pre=$(html.pre({_:"hidden"},source));action_show.click(function(){pre.hasClass("hidden")?(action_show.text("Hide script"),pre.removeClass("hidden")):(action_show.text("Show script"),pre.addClass("hidden"))}),_.before(html.div({_:"script"},action_show,pre))},self)},texto.start=function(){var e=texto;texto.renderTitle(),texto.renderScripts(),texto.renderIndex()},texto.init=function(){var e=texto;$(document).ready(texto.start)},typeof texto.init!="undefined"&&texto.init()})(texto);</script>

	<body>
		<div class="API use-texto use-base">
			<div class="documentation" style="margin-left:250px;">
				<div class="document"><div id="libparsing" class="section level1">
<h1>libparsing</h1>
<div id="c-python-parsing-elements-grammar-library" class="section level2">
<h2>C &amp; Python Parsing Elements Grammar Library</h2>
<pre><code>Version :  0.3.6
URL     :  http://github.com/sebastien/parsing
README  :  https://cdn.rawgit.com/sebastien/libparsing/master/README.html</code></pre>
<p><code>libparsing</code> is a parsing element grammar (PEG) library written in C with Python bindings. It offers decent performance while allowing for a lot of flexibility. It is mainly intended to be used to create programming languages and software engineering tools.</p>
<p>As opposed to more traditional parsing techniques, the grammar is not compiled but constructed using an API that allows dynamic update of the grammar.</p>
<p>The parser does not do any tokeninzation, the instead input stream is consumed and parsing elements are dynamically asked to match the next element of it. Once parsing elements match, the resulting matched input is processed and an action is triggered.</p>
<p><code>libparsing</code> supports the following features:</p>
<ul>
<li><em>backtracking</em>, ie. going back in the input stream if a match is not found</li>
<li><em>cherry-picking</em>, ie. skipping unrecognized input</li>
<li><em>contextual rules</em>, ie. a rule that will match or not depending on external variables</li>
</ul>
<p>Parsing elements are usually slower than compiled or FSM-based parsers as they trade performance for flexibility. It's probably not a great idea to use <code>libparsing</code> if the parsing has to happen as fast as possible (ie. a protocol implementation), but it is a great use for programming languages, as it opens up the door to dynamic syntax plug-ins and multiple language embedding.</p>
<p>If you're interested in PEG, you can start reading Brian Ford's original article. Projects such as PEG/LEG by Ian Piumarta <a href="http://piumarta.com/software/peg/">http://piumarta.com/software/peg/</a> ,OMeta by Alessandro Warth <a href="http://www.tinlizzie.org/ometa/">http://www.tinlizzie.org/ometa/</a> or Haskell's Parsec library <a href="https://www.haskell.org/haskellwiki/Parsec">https://www.haskell.org/haskellwiki/Parsec</a> are of particular interest in the field.</p>
<p>Here is a short example of what creating a simple grammar looks like in Python:</p>
<pre><code>g = Grammar()
s = g.symbols
g.token(&quot;WS&quot;,       &quot;\s+&quot;)
g.token(&quot;NUMBER&quot;,   &quot;\d+(\.\d+)?&quot;)
g.token(&quot;VARIABLE&quot;, &quot;\w+&quot;)
g.token(&quot;OPERATOR&quot;, &quot;[\/\+\-\*]&quot;)
g.group(&quot;Value&quot;,     s.NUMBER, s.VARIABLE)
g.rule(&quot;Suffix&quot;,     s.OPERATOR._as(&quot;operator&quot;), s.Value._as(&quot;value&quot;))
g.rule(&quot;Expression&quot;, s.Value, s.Suffix.zeroOrMore())
g.axiom(s.Expression)
g.skip(s.WS)
match = g.parseString(&quot;10 + 20 / 5&quot;)</code></pre>
<p>and the equivalent code in C</p>
<pre><code>Grammar* g = Grammar_new()
SYMBOL(WS,         TOKEN(&quot;\\s+&quot;))
SYMBOL(NUMBER,     TOKEN(&quot;\\d+(\\.\\d+)?&quot;))
SYMBOL(VARIABLE,   TOKEN(&quot;\\w+&quot;))
SYMBOL(OPERATOR,   GROUP(&quot;[\\/\\+\\-\\*]&quot;))
SYMBOL(Value,      GOUP(_S(NUMBER), _S(VARIABLE)))
SYMBOL(Suffix,     RULE(_AS(_S(OPERATOR), &quot;operator&quot;), _AS(_S(Value), &quot;value&quot;)))
SYMBOL(Expression, RULE(_S(Value), _MO(Suffix))
g-&gt;axiom = s_Expression;
g-&gt;skip(s_WS);
Grammar_prepare(g);
Match* match = Grammar_parseString(g, &quot;10 + 20 / 5&quot;)</code></pre>
</div>
</div>
<div id="installing" class="section level1">
<h1>Installing</h1>
<p>To install the Python parsing module:</p>
<pre class="shell"><code>easy_install libparsing    # From Setuptools
pip install  libparsing     # From PIP</code></pre>
<p>Note that for the above to work, you'll need a C compiler and libpcre-dev. On Ubuntu, do <code>sudo apt install build-essential libprcre-dev</code>.</p>
<p>To compile the C parsing module:</p>
<pre class="shell"><code>git clone http://github.com/sebastien/libparsing
cd libparsing
make
make install               # You can set PREFIX</code></pre>
<p><code>libparsing</code> works with GCC4 and Clang and is written following the <code>c11</code> standard.</p>
</div>
<div id="c-api" class="section level1">
<h1>C API</h1>
<div id="input-data" class="section level2">
<h2>Input data</h2>
<p>The parsing library is configured at compile-time to iterate on specific elements of input, typically <code>char</code>. You can redefine the macro <code>ITERATION_UNIT</code> to the type you'd like to iterate on.</p>
<p>By default, the <code>ITERATION_UNIT</code> is a <code>char</code>, which works both for ASCII and UTF8. On the topic of Unicode/UTF8, the parsing library only uses functions that are UTF8-savvy.</p>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#ifndef ITERATION_UNIT</span>
<span class="ot">#define ITERATION_UNIT char</span>
<span class="ot">#endif</span>

<span class="kw">typedef</span> ITERATION_UNIT iterated_t;</code></pre>
<p>Input data is acquired through <em>iterators</em>. Iterators wrap an input source (the default input is a <code>FileInput</code>) and a <code>move</code> callback that updates the iterator's offset. The iterator will build a buffer of the acquired input and maintain a pointer for the current offset within the data acquired from the input stream.</p>
<p>You can get an iterator on a file by doing:</p>
<pre class="sourceCode c"><code class="sourceCode c">Iterator* iterator = Iterator_Open(<span class="st">&quot;example.txt&quot;</span>);</code></pre>
<div id="type-iterator" class="section level4">
<h4><a name="Iterator_type"><span class="classifier">type</span> <code>Iterator</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="kw">typedef</span> <span class="kw">struct</span> Iterator {
    <span class="dt">char</span>           status;    <span class="co">// The status of the iterator, one of STATUS_{INIT|PROCESSING|INPUT_ENDED|ENDED}</span>
    <span class="dt">char</span>*          buffer;    <span class="co">// The buffer to the read data, note how it is a (void*) and not an `iterated_t`</span>
    iterated_t*    current;   <span class="co">// The for the current offset within the buffer</span>
    iterated_t     separator; <span class="co">// The character for line separator, `\n` by default.</span>
    size_t         offset;    <span class="co">// Offset in input (in bytes), might be different from `current - buffer` if some input was freed.</span>
    size_t         lines;     <span class="co">// Counter for lines that have been encountered</span>
    size_t         length;    <span class="co">// Buffer length (in bytes), might be bigger than the data acquired from the input</span>
    size_t         available; <span class="co">// Available data in buffer (in bytes), always `&lt;= length`</span>
    <span class="dt">void</span>*          input;     <span class="co">// Pointer to the input source</span>
    bool          (*move) (<span class="kw">struct</span> Iterator*, <span class="dt">int</span> n); <span class="co">// Plug-in function to move to the previous/next positions</span>
} Iterator;</code></pre>
</div>
<div id="type-fileinput" class="section level4">
<h4><a name="FileInput_type"><span class="classifier">type</span> <code>FileInput</code></a></h4>
<p>The file input wraps information about the input file, such as the <code>FILE</code> object and the <code>path</code>.</p>
<pre class="sourceCode c"><code class="sourceCode c"><span class="kw">typedef</span> <span class="kw">struct</span> FileInput {
    FILE*        file;
    <span class="dt">const</span> <span class="dt">char</span>*  path;
} FileInput;</code></pre>
</div>
<div id="shared-eol" class="section level4">
<h4><a name="EOL_shared"><span class="classifier">shared</span> <code>EOL</code></a></h4>
<p>The EOL character used to count lines in an iterator context.</p>
<pre class="sourceCode c"><code class="sourceCode c"><span class="kw">extern</span> iterated_t         EOL;</code></pre>
</div>
<div id="operation-iterator_open" class="section level4">
<h4><a name="Iterator_Open_operation"><span class="classifier">operation</span> <code>Iterator_Open</code></a></h4>
<p>Returns a new iterator instance with the given open file as input</p>
<pre class="sourceCode c"><code class="sourceCode c">Iterator* Iterator_Open(<span class="dt">const</span> <span class="dt">char</span>* path);</code></pre>
</div>
<div id="operation-iterator_fromstring" class="section level4">
<h4><a name="Iterator_FromString_operation"><span class="classifier">operation</span> <code>Iterator_FromString</code></a></h4>
<p>Returns a new iterator instance with the text</p>
<pre class="sourceCode c"><code class="sourceCode c">Iterator* Iterator_FromString(<span class="dt">const</span> <span class="dt">char</span>* text);</code></pre>
</div>
<div id="constructor-iterator" class="section level4">
<h4><a name="Iterator_constructor"><span class="classifier">constructor</span> <code>Iterator</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c">Iterator* Iterator_new(<span class="dt">void</span>);</code></pre>
</div>
<div id="destructor-iterator_free" class="section level4">
<h4><a name="Iterator_free_destructor"><span class="classifier">destructor</span> <code>Iterator_free</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="dt">void</span>      Iterator_free(Iterator* this);</code></pre>
</div>
<div id="method-iterator_open" class="section level4">
<h4><a name="Iterator_open_method"><span class="classifier">method</span> <code>Iterator_open</code></a></h4>
<p>Makes the given iterator open the file at the given path. This will automatically assign a <code>FileInput</code> to the iterator as an input source.</p>
<pre class="sourceCode c"><code class="sourceCode c">bool Iterator_open( Iterator* this, <span class="dt">const</span> <span class="dt">char</span> *path );</code></pre>
</div>
<div id="method-iterator_hasmore" class="section level4">
<h4><a name="Iterator_hasMore_method"><span class="classifier">method</span> <code>Iterator_hasMore</code></a></h4>
<p>Tells if the iterator has more available data</p>
<pre class="sourceCode c"><code class="sourceCode c">bool Iterator_hasMore( Iterator* this );</code></pre>
</div>
<div id="method-iterator_remaining" class="section level4">
<h4><a name="Iterator_remaining_method"><span class="classifier">method</span> <code>Iterator_remaining</code></a></h4>
<p>Returns the number of bytes available from the current iterator's position. This should be at least <code>ITERATOR_BUFFER_AHEAD</code> until end of input stream is reached.</p>
<pre class="sourceCode c"><code class="sourceCode c">size_t Iterator_remaining( Iterator* this );</code></pre>
</div>
<div id="method-iterator_moveto" class="section level4">
<h4><a name="Iterator_moveTo_method"><span class="classifier">method</span> <code>Iterator_moveTo</code></a></h4>
<p>Moves the iterator to the given offset</p>
<pre class="sourceCode c"><code class="sourceCode c">bool Iterator_moveTo ( Iterator* this, size_t offset );</code></pre>
</div>
<div id="method-string_move" class="section level4">
<h4><a name="String_move_method"><span class="classifier">method</span> <code>String_move</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c">bool String_move ( Iterator* this, <span class="dt">int</span> offset );</code></pre>
</div>
<div id="define-iterator_buffer_ahead" class="section level4">
<h4><a name="ITERATOR_BUFFER_AHEAD_define"><span class="classifier">define</span> <code>ITERATOR_BUFFER_AHEAD</code></a></h4>
<p>The number of <code>iterated_t</code> that should be loaded after the iterator's current position. This limits the numbers of <code>iterated_t</code> that a <code>Token</code> could match.</p>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define ITERATOR_BUFFER_AHEAD 64000</span></code></pre>
</div>
<div id="constructor-fileinput" class="section level4">
<h4><a name="FileInput_constructor"><span class="classifier">constructor</span> <code>FileInput</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c">FileInput* FileInput_new(<span class="dt">const</span> <span class="dt">char</span>* path );</code></pre>
</div>
<div id="destructor-fileinput_free" class="section level4">
<h4><a name="FileInput_free_destructor"><span class="classifier">destructor</span> <code>FileInput_free</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="dt">void</span>       FileInput_free(FileInput* this);</code></pre>
</div>
<div id="method-fileinput_preload" class="section level4">
<h4><a name="FileInput_preload_method"><span class="classifier">method</span> <code>FileInput_preload</code></a></h4>
<p>Preloads data from the input source so that the buffer has ITERATOR_BUFFER_AHEAD characters ahead.</p>
<pre class="sourceCode c"><code class="sourceCode c">size_t FileInput_preload( Iterator* this );</code></pre>
</div>
<div id="method-fileinput_move" class="section level4">
<h4><a name="FileInput_move_method"><span class="classifier">method</span> <code>FileInput_move</code></a></h4>
<p>Advances/rewinds the given iterator, loading new data from the file input whenever there is not <code>ITERATOR_BUFFER_AHEAD</code> data elements ahead of the iterator's current position.</p>
<pre class="sourceCode c"><code class="sourceCode c">bool FileInput_move   ( Iterator* this, <span class="dt">int</span> n );</code></pre>
</div>
</div>
<div id="grammar" class="section level2">
<h2>Grammar</h2>
<p>The <code>Grammar</code> is the concrete definition of the language you're going to parse. It is defined by an <code>axiom</code> and input data that can be skipped, such as white space.</p>
<p>The <code>axiom</code> and <code>skip</code> properties are both references to <em>parsing elements</em>.</p>
<pre class="sourceCode c"><code class="sourceCode c"><span class="kw">typedef</span> <span class="kw">struct</span> ParsingContext ParsingContext;
<span class="kw">typedef</span> <span class="kw">struct</span> ParsingElement ParsingElement;
<span class="kw">typedef</span> <span class="kw">struct</span> ParsingResult  ParsingResult;
<span class="kw">typedef</span> <span class="kw">struct</span> Reference      Reference;
<span class="kw">typedef</span> <span class="kw">struct</span> Match          Match;
<span class="kw">typedef</span> <span class="dt">void</span>                  Element;</code></pre>
<div id="type-grammar" class="section level4">
<h4><a name="Grammar_type"><span class="classifier">type</span> <code>Grammar</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="kw">typedef</span> <span class="kw">struct</span> Grammar {
    ParsingElement*  axiom;       <span class="co">// The axiom</span>
    ParsingElement*  skip;        <span class="co">// The skipped element</span>
    <span class="dt">int</span>              axiomCount;  <span class="co">// The count of parsing elemetns in axiom</span>
    <span class="dt">int</span>              skipCount;   <span class="co">// The count of parsing elements in skip</span>
    Element**        elements;    <span class="co">// The set of all elements in the grammar</span>
    bool             isVerbose;
} Grammar;</code></pre>
</div>
<div id="constructor-grammar" class="section level4">
<h4><a name="Grammar_constructor"><span class="classifier">constructor</span> <code>Grammar</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c">Grammar* Grammar_new(<span class="dt">void</span>);</code></pre>
</div>
<div id="destructor-grammar_free" class="section level4">
<h4><a name="Grammar_free_destructor"><span class="classifier">destructor</span> <code>Grammar_free</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="dt">void</span> Grammar_free(Grammar* this);</code></pre>
</div>
<div id="method-grammar_prepare" class="section level4">
<h4><a name="Grammar_prepare_method"><span class="classifier">method</span> <code>Grammar_prepare</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="dt">void</span> Grammar_prepare ( Grammar* this );</code></pre>
</div>
<div id="method-grammar_parsefromiterator" class="section level4">
<h4><a name="Grammar_parseFromIterator_method"><span class="classifier">method</span> <code>Grammar_parseFromIterator</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c">ParsingResult* Grammar_parseFromIterator( Grammar* this, Iterator* iterator );</code></pre>
</div>
<div id="method-grammar_parsefrompath" class="section level4">
<h4><a name="Grammar_parseFromPath_method"><span class="classifier">method</span> <code>Grammar_parseFromPath</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c">ParsingResult* Grammar_parseFromPath( Grammar* this, <span class="dt">const</span> <span class="dt">char</span>* path );</code></pre>
</div>
</div>
<div id="elements" class="section level2">
<h2>Elements</h2>
<div id="callback-walkingcallback" class="section level4">
<h4><a name="WalkingCallback_callback"><span class="classifier">callback</span> <code>WalkingCallback</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="kw">typedef</span> <span class="dt">int</span> (*WalkingCallback)(Element* this, <span class="dt">int</span> step, <span class="dt">void</span>* context);</code></pre>
</div>
<div id="method-element_walk" class="section level4">
<h4><a name="Element_walk_method"><span class="classifier">method</span> <code>Element_walk</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="dt">int</span> Element_walk( Element* this, WalkingCallback callback, <span class="dt">void</span>* context);</code></pre>
</div>
<div id="method-element__walk" class="section level4">
<h4><a name="Element__walk_method"><span class="classifier">method</span> <code>Element__walk</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="dt">int</span> Element__walk( Element* this, WalkingCallback callback, <span class="dt">int</span> step, <span class="dt">void</span>* context);</code></pre>
</div>
<div id="parsing-elements" class="section level3">
<h3>Parsing Elements</h3>
<p>Parsing elements are the core elements that recognize and process input data. There are 4 basic types: <code>Work</code>, <code>Token</code>, <code>Group</code> and <code>Rule</code>.</p>
<p>Parsing elements offer two main operations: <code>recognize</code> and <code>process</code>. The <code>recognize</code> method generates a <code>Match</code> object (that might be the <code>FAILURE</code> singleton if the data was not recognized). The <code>process</code> method tranforms corresponds to a user-defined action that transforms the <code>Match</code> object and returns the generated value.</p>
<p>Parsing element are assigned an <code>id</code> that corresponds to their breadth-first distance to the axiom. Before parsing, the grammar will re-assign the parsing element's id accordingly.</p>
<div id="type-match" class="section level4">
<h4><a name="Match_type"><span class="classifier">type</span> <code>Match</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="kw">typedef</span> <span class="kw">struct</span> Match {
    <span class="dt">char</span>            status;     <span class="co">// The status of the match (see STATUS_XXX)</span>
    size_t          offset;     <span class="co">// The offset of `iterated_t` matched</span>
    size_t          length;     <span class="co">// The number of `iterated_t` matched</span>
    Element*        element;
    ParsingContext* context;
    <span class="dt">void</span>*           data;      <span class="co">// The matched data (usually a subset of the input stream)</span>
    <span class="kw">struct</span> Match*   next;      <span class="co">// A pointer to the next  match (see `References`)</span>
    <span class="kw">struct</span> Match*   child;     <span class="co">// A pointer to the child match (see `References`)</span>
} Match;</code></pre>
</div>
<div id="define-status_init" class="section level4">
<h4><a name="STATUS_INIT_define"><span class="classifier">define</span> <code>STATUS_INIT</code></a></h4>
<p>The different values for a match (or iterator)'s status</p>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define STATUS_INIT        &#39;-&#39;</span></code></pre>
</div>
<div id="define-status_processing" class="section level4">
<h4><a name="STATUS_PROCESSING_define"><span class="classifier">define</span> <code>STATUS_PROCESSING</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define STATUS_PROCESSING  &#39;~&#39;</span></code></pre>
</div>
<div id="define-status_matched" class="section level4">
<h4><a name="STATUS_MATCHED_define"><span class="classifier">define</span> <code>STATUS_MATCHED</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define STATUS_MATCHED     &#39;M&#39;</span></code></pre>
</div>
<div id="define-status_success" class="section level4">
<h4><a name="STATUS_SUCCESS_define"><span class="classifier">define</span> <code>STATUS_SUCCESS</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define STATUS_SUCCESS     &#39;S&#39;</span></code></pre>
</div>
<div id="define-status_partial" class="section level4">
<h4><a name="STATUS_PARTIAL_define"><span class="classifier">define</span> <code>STATUS_PARTIAL</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define STATUS_PARTIAL     &#39;s&#39;</span></code></pre>
</div>
<div id="define-status_failed" class="section level4">
<h4><a name="STATUS_FAILED_define"><span class="classifier">define</span> <code>STATUS_FAILED</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define STATUS_FAILED      &#39;X&#39;</span></code></pre>
</div>
<div id="define-status_input_ended" class="section level4">
<h4><a name="STATUS_INPUT_ENDED_define"><span class="classifier">define</span> <code>STATUS_INPUT_ENDED</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define STATUS_INPUT_ENDED &#39;.&#39;</span></code></pre>
</div>
<div id="define-status_ended" class="section level4">
<h4><a name="STATUS_ENDED_define"><span class="classifier">define</span> <code>STATUS_ENDED</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define STATUS_ENDED       &#39;E&#39;</span></code></pre>
</div>
<div id="define-type_element" class="section level4">
<h4><a name="TYPE_ELEMENT_define"><span class="classifier">define</span> <code>TYPE_ELEMENT</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define TYPE_ELEMENT    &#39;E&#39;</span></code></pre>
</div>
<div id="define-type_word" class="section level4">
<h4><a name="TYPE_WORD_define"><span class="classifier">define</span> <code>TYPE_WORD</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define TYPE_WORD       &#39;W&#39;</span></code></pre>
</div>
<div id="define-type_token" class="section level4">
<h4><a name="TYPE_TOKEN_define"><span class="classifier">define</span> <code>TYPE_TOKEN</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define TYPE_TOKEN      &#39;T&#39;</span></code></pre>
</div>
<div id="define-type_group" class="section level4">
<h4><a name="TYPE_GROUP_define"><span class="classifier">define</span> <code>TYPE_GROUP</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define TYPE_GROUP      &#39;G&#39;</span></code></pre>
</div>
<div id="define-type_rule" class="section level4">
<h4><a name="TYPE_RULE_define"><span class="classifier">define</span> <code>TYPE_RULE</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define TYPE_RULE       &#39;R&#39;</span></code></pre>
</div>
<div id="define-type_condition" class="section level4">
<h4><a name="TYPE_CONDITION_define"><span class="classifier">define</span> <code>TYPE_CONDITION</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define TYPE_CONDITION  &#39;c&#39;</span></code></pre>
</div>
<div id="define-type_procedure" class="section level4">
<h4><a name="TYPE_PROCEDURE_define"><span class="classifier">define</span> <code>TYPE_PROCEDURE</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define TYPE_PROCEDURE  &#39;p&#39;</span></code></pre>
</div>
<div id="define-type_reference" class="section level4">
<h4><a name="TYPE_REFERENCE_define"><span class="classifier">define</span> <code>TYPE_REFERENCE</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define TYPE_REFERENCE  &#39;#&#39;</span></code></pre>
</div>
<div id="define-id_unbound" class="section level4">
<h4><a name="ID_UNBOUND_define"><span class="classifier">define</span> <code>ID_UNBOUND</code></a></h4>
<p>A parsing element that is not bound to a grammar will have ID_UNBOUND by default.</p>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define ID_UNBOUND      -10</span></code></pre>
</div>
<div id="define-id_binding" class="section level4">
<h4><a name="ID_BINDING_define"><span class="classifier">define</span> <code>ID_BINDING</code></a></h4>
<p>A parsing element that being bound to a grammar (see <code>Grammar_prepare</code>) will have an id of <code>ID_BINDING</code> temporarily.</p>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define ID_BINDING       -1</span></code></pre>
</div>
<div id="singleton-failure_s" class="section level4">
<h4><a name="FAILURE_S_singleton"><span class="classifier">singleton</span> <code>FAILURE_S</code></a></h4>
<p>A specific match that indicates a failure</p>
<pre class="sourceCode c"><code class="sourceCode c"><span class="kw">extern</span> Match FAILURE_S;</code></pre>
</div>
<div id="shared-failure" class="section level4">
<h4><a name="FAILURE_shared"><span class="classifier">shared</span> <code>FAILURE</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="kw">extern</span> Match* FAILURE;</code></pre>
</div>
<div id="operation-match_empty" class="section level4">
<h4><a name="Match_Empty_operation"><span class="classifier">operation</span> <code>Match_Empty</code></a></h4>
<p>Creates new empty (successful) match</p>
<pre class="sourceCode c"><code class="sourceCode c">Match* Match_Empty(Element* element, ParsingContext* context);</code></pre>
</div>
<div id="operation-match_success" class="section level4">
<h4><a name="Match_Success_operation"><span class="classifier">operation</span> <code>Match_Success</code></a></h4>
<p>Creates a new successful match of the given length</p>
<pre class="sourceCode c"><code class="sourceCode c">Match* Match_Success(size_t length, Element* element, ParsingContext* context);</code></pre>
</div>
<div id="constructor-match" class="section level4">
<h4><a name="Match_constructor"><span class="classifier">constructor</span> <code>Match</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c">Match* Match_new(<span class="dt">void</span>);</code></pre>
</div>
<div id="destructor-match_free" class="section level4">
<h4><a name="Match_free_destructor"><span class="classifier">destructor</span> <code>Match_free</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="dt">void</span> Match_free(Match* this);</code></pre>
</div>
<div id="method-match_issuccess" class="section level4">
<h4><a name="Match_isSuccess_method"><span class="classifier">method</span> <code>Match_isSuccess</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c">bool Match_isSuccess(Match* this);</code></pre>
</div>
<div id="method-match__walk" class="section level4">
<h4><a name="Match__walk_method"><span class="classifier">method</span> <code>Match__walk</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="dt">int</span> Match__walk(Match* this, WalkingCallback callback, <span class="dt">int</span> step, <span class="dt">void</span>* context );</code></pre>
</div>
<div id="type-parsingelement" class="section level4">
<h4><a name="ParsingElement_type"><span class="classifier">type</span> <code>ParsingElement</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="kw">typedef</span> <span class="kw">struct</span> ParsingElement {
    <span class="dt">char</span>           type;       <span class="co">// Type is used du differentiate ParsingElement from Reference</span>
    <span class="dt">int</span>            id;         <span class="co">// The ID, assigned by the grammar, as the relative distance to the axiom</span>
    <span class="dt">const</span> <span class="dt">char</span>*    name;       <span class="co">// The parsing element&#39;s name, for debugging</span>
    <span class="dt">void</span>*          config;     <span class="co">// The configuration of the parsing element</span>
    <span class="kw">struct</span> Reference*     children;   <span class="co">// The parsing element&#39;s children, if any</span>
    <span class="kw">struct</span> Match*         (*recognize) (<span class="kw">struct</span> ParsingElement*, ParsingContext*);
    <span class="kw">struct</span> Match*         (*process)   (<span class="kw">struct</span> ParsingElement*, ParsingContext*, Match*);
    <span class="dt">void</span>                  (*freeMatch) (Match*);
} ParsingElement;</code></pre>
</div>
<div id="operation-parsingelement_is" class="section level4">
<h4><a name="ParsingElement_Is_operation"><span class="classifier">operation</span> <code>ParsingElement_Is</code></a></h4>
<p>Tells if the given pointer is a pointer to a ParsingElement.</p>
<pre class="sourceCode c"><code class="sourceCode c">bool         ParsingElement_Is(<span class="dt">void</span> *);</code></pre>
</div>
<div id="constructor-parsingelement" class="section level4">
<h4><a name="ParsingElement_constructor"><span class="classifier">constructor</span> <code>ParsingElement</code></a></h4>
<p>Creates a new parsing element and adds the given referenced parsing elements as children. Note that this is an internal constructor, and you should use the specialized versions instead.</p>
<pre class="sourceCode c"><code class="sourceCode c">ParsingElement* ParsingElement_new(Reference* children[]);</code></pre>
</div>
<div id="destructor-parsingelement_free" class="section level4">
<h4><a name="ParsingElement_free_destructor"><span class="classifier">destructor</span> <code>ParsingElement_free</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="dt">void</span> ParsingElement_free(ParsingElement* this);</code></pre>
</div>
<div id="method-parsingelement_add" class="section level4">
<h4><a name="ParsingElement_add_method"><span class="classifier">method</span> <code>ParsingElement_add</code></a></h4>
<p>Adds a new reference as child of this parsing element. This will only be effective for composite parsing elements such as <code>Rule</code> or <code>Token</code>.</p>
<pre class="sourceCode c"><code class="sourceCode c">ParsingElement* ParsingElement_add(ParsingElement *this, Reference *child);</code></pre>
</div>
<div id="method-parsingelement_add-1" class="section level4">
<h4><a name="ParsingElement_add_method"><span class="classifier">method</span> <code>ParsingElement_add</code></a></h4>
<p>Returns the match for this parsing element for the given iterator's state. inline Match* ParsingElement_recognize( ParsingElement* this, ParsingContext* context );</p>
</div>
<div id="method-parsingelement_process" class="section level4">
<h4><a name="ParsingElement_process_method"><span class="classifier">method</span> <code>ParsingElement_process</code></a></h4>
<p>Processes the given match once the parsing element has fully succeeded. This is where user-bound actions will be applied, and where you're most likely to do things such as construct an AST.</p>
<pre class="sourceCode c"><code class="sourceCode c">Match* ParsingElement_process( ParsingElement* this, Match* match );</code></pre>
</div>
<div id="method-parsingelement_name" class="section level4">
<h4><a name="ParsingElement_name_method"><span class="classifier">method</span> <code>ParsingElement_name</code></a></h4>
<p>Transparently sets the name of the element</p>
<pre class="sourceCode c"><code class="sourceCode c">ParsingElement* ParsingElement_name( ParsingElement* this, <span class="dt">const</span> <span class="dt">char</span>* name );</code></pre>
</div>
</div>
<div id="word" class="section level3">
<h3>Word</h3>
<p>Words recognize a static string at the current iterator location.</p>
<div id="type-wordconfig" class="section level4">
<h4><a name="WordConfig_type"><span class="classifier">type</span> <code>WordConfig</code></a></h4>
<p>The parsing element configuration information that is used by the <code>Token</code> methods.</p>
<pre class="sourceCode c"><code class="sourceCode c"><span class="kw">typedef</span> <span class="kw">struct</span> WordConfig {
    <span class="dt">const</span> <span class="dt">char</span>* word;
    size_t      length;
} WordConfig;</code></pre>
</div>
<div id="constructor-parsingelement-1" class="section level4">
<h4><a name="ParsingElement_constructor"><span class="classifier">constructor</span> <code>ParsingElement</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c">ParsingElement* Word_new(<span class="dt">const</span> <span class="dt">char</span>* word);</code></pre>
</div>
<div id="method-word_recognize" class="section level4">
<h4><a name="Word_recognize_method"><span class="classifier">method</span> <code>Word_recognize</code></a></h4>
<p>The specialized match function for token parsing elements.</p>
<pre class="sourceCode c"><code class="sourceCode c">Match*          Word_recognize(ParsingElement* this, ParsingContext* context);</code></pre>
</div>
</div>
<div id="tokens" class="section level3">
<h3>Tokens</h3>
<p>Tokens are regular expression based parsing elements. They do not have any children and test if the regular expression matches exactly at the iterator's current location.</p>
<div id="type-tokenconfig" class="section level4">
<h4><a name="TokenConfig_type"><span class="classifier">type</span> <code>TokenConfig</code></a></h4>
<p>The parsing element configuration information that is used by the <code>Token</code> methods.</p>
<pre class="sourceCode c"><code class="sourceCode c"><span class="kw">typedef</span> <span class="kw">struct</span> TokenConfig {
    <span class="dt">const</span> <span class="dt">char</span>* expr;
<span class="ot">#ifdef WITH_PCRE</span>
    pcre*       regexp;
    pcre_extra* extra;
<span class="ot">#endif</span>
} TokenConfig;</code></pre>
</div>
<div id="type-tokenmatch" class="section level4">
<h4><a name="TokenMatch_type"><span class="classifier">type</span> <code>TokenMatch</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="kw">typedef</span> <span class="kw">struct</span> TokenMatch {
    <span class="dt">int</span>             count;
    <span class="dt">const</span> <span class="dt">char</span>**    groups;
} TokenMatch;</code></pre>
</div>
<div id="method-token_new" class="section level4">
<h4><a name="Token_new_method"><span class="classifier">method</span> <code>Token_new</code></a></h4>
<p>Creates a new token with the given POSIX extended regular expression</p>
<pre class="sourceCode c"><code class="sourceCode c">ParsingElement* Token_new(<span class="dt">const</span> <span class="dt">char</span>* expr);</code></pre>
</div>
<div id="destructor-token_free" class="section level4">
<h4><a name="Token_free_destructor"><span class="classifier">destructor</span> <code>Token_free</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="dt">void</span> Token_free(ParsingElement*);</code></pre>
</div>
<div id="method-token_recognize" class="section level4">
<h4><a name="Token_recognize_method"><span class="classifier">method</span> <code>Token_recognize</code></a></h4>
<p>The specialized match function for token parsing elements.</p>
<pre class="sourceCode c"><code class="sourceCode c">Match*          Token_recognize(ParsingElement* this, ParsingContext* context);</code></pre>
</div>
<div id="method-tokenmatch_free" class="section level4">
<h4><a name="TokenMatch_free_method"><span class="classifier">method</span> <code>TokenMatch_free</code></a></h4>
<p>Frees the <code>TokenMatch</code> created in <code>Token_recognize</code></p>
<pre class="sourceCode c"><code class="sourceCode c"><span class="dt">void</span> TokenMatch_free(Match* match);</code></pre>
</div>
<div id="method-tokenmatch_group" class="section level4">
<h4><a name="TokenMatch_group_method"><span class="classifier">method</span> <code>TokenMatch_group</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="dt">const</span> <span class="dt">char</span>* TokenMatch_group(Match* match, <span class="dt">int</span> index);</code></pre>
</div>
</div>
<div id="references" class="section level3">
<h3>References</h3>
<p>We've seen that parsing elements can have <code>children</code>. However, a parsing element's children are not directly parsing elements but rather parsing elements' <code>Reference</code>s. This is why the <code>ParsingElement_add</code> takes a <code>Reference</code> object as parameter.</p>
<p>References allow to share a single parsing element between many different composite parsing elements, while decorating them with additional information such as their cardinality (<code>ONE</code>, <code>OPTIONAL</code>, <code>MANY</code> and <code>MANY_OPTIONAL</code>) and a <code>name</code> that will allow <code>process</code> actions to easily access specific parts of the parsing element.</p>
<div id="type-reference" class="section level4">
<h4><a name="Reference_type"><span class="classifier">type</span> <code>Reference</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="kw">typedef</span> <span class="kw">struct</span> Reference {
    <span class="dt">char</span>            type;            <span class="co">// Set to Reference_T, to disambiguate with ParsingElement</span>
    <span class="dt">int</span>             id;              <span class="co">// The ID, assigned by the grammar, as the relative distance to the axiom</span>
    <span class="dt">char</span>            cardinality;     <span class="co">// Either ONE (default), OPTIONAL, MANY or MANY_OPTIONAL</span>
    <span class="dt">const</span> <span class="dt">char</span>*     name;            <span class="co">// The name of the reference (optional)</span>
    <span class="kw">struct</span> ParsingElement* element;  <span class="co">// The reference to the parsing element</span>
    <span class="kw">struct</span> Reference*      next;     <span class="co">// The next child reference in the parsing elements</span>
} Reference;</code></pre>
</div>
<div id="define-cardinality_optional" class="section level4">
<h4><a name="CARDINALITY_OPTIONAL_define"><span class="classifier">define</span> <code>CARDINALITY_OPTIONAL</code></a></h4>
<p>The different values for the <code>Reference</code> cardinality.</p>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define CARDINALITY_OPTIONAL      &#39;?&#39;</span></code></pre>
</div>
<div id="define-cardinality_one" class="section level4">
<h4><a name="CARDINALITY_ONE_define"><span class="classifier">define</span> <code>CARDINALITY_ONE</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define CARDINALITY_ONE           &#39;1&#39;</span></code></pre>
</div>
<div id="define-cardinality_many_optional" class="section level4">
<h4><a name="CARDINALITY_MANY_OPTIONAL_define"><span class="classifier">define</span> <code>CARDINALITY_MANY_OPTIONAL</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define CARDINALITY_MANY_OPTIONAL &#39;*&#39;</span></code></pre>
</div>
<div id="define-cardinality_many" class="section level4">
<h4><a name="CARDINALITY_MANY_define"><span class="classifier">define</span> <code>CARDINALITY_MANY</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define CARDINALITY_MANY          &#39;+&#39;</span></code></pre>
</div>
<div id="operation-reference_is" class="section level4">
<h4><a name="Reference_Is_operation"><span class="classifier">operation</span> <code>Reference_Is</code></a></h4>
<p>Tells if the given pointer is a pointer to Reference</p>
<pre class="sourceCode c"><code class="sourceCode c">bool Reference_Is(<span class="dt">void</span> * this);</code></pre>
</div>
<div id="operation-reference_ensure" class="section level4">
<h4><a name="Reference_Ensure_operation"><span class="classifier">operation</span> <code>Reference_Ensure</code></a></h4>
<p>Ensures that the given element (or reference) is a reference.</p>
<pre class="sourceCode c"><code class="sourceCode c">Reference* Reference_Ensure(<span class="dt">void</span>* elementOrReference);</code></pre>
</div>
<div id="operation-reference_new" class="section level4">
<h4><a name="Reference_New_operation"><span class="classifier">operation</span> <code>Reference_New</code></a></h4>
<p>Returns a new reference wrapping the given parsing element</p>
<pre class="sourceCode c"><code class="sourceCode c">Reference* Reference_New(ParsingElement *);</code></pre>
</div>
<div id="constructor-reference" class="section level4">
<h4><a name="Reference_constructor"><span class="classifier">constructor</span> <code>Reference</code></a></h4>
<p>References are typically owned by their single parent composite element.</p>
<pre class="sourceCode c"><code class="sourceCode c">Reference* Reference_new(<span class="dt">void</span>);</code></pre>
</div>
<div id="method-reference_cardinality" class="section level4">
<h4><a name="Reference_cardinality_method"><span class="classifier">method</span> <code>Reference_cardinality</code></a></h4>
<p>Sets the cardinality of this reference, returning it transprently.</p>
<pre class="sourceCode c"><code class="sourceCode c">Reference* Reference_cardinality(Reference* this, <span class="dt">char</span> cardinality);</code></pre>
</div>
<div id="method-reference_name" class="section level4">
<h4><a name="Reference_name_method"><span class="classifier">method</span> <code>Reference_name</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c">Reference* Reference_name(Reference* this, <span class="dt">const</span> <span class="dt">char</span>* name);</code></pre>
</div>
<div id="method-reference__walk" class="section level4">
<h4><a name="Reference__walk_method"><span class="classifier">method</span> <code>Reference__walk</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="dt">int</span> Reference__walk( Reference* this, WalkingCallback callback, <span class="dt">int</span> step, <span class="dt">void</span>* nothing );</code></pre>
</div>
<div id="method-reference_recognize" class="section level4">
<h4><a name="Reference_recognize_method"><span class="classifier">method</span> <code>Reference_recognize</code></a></h4>
<p>Returns the matched value corresponding to the first match of this reference. <code>OPTIONAL</code> references might return <code>EMPTY</code>, <code>ONE</code> references will return a match with a <code>next=NULL</code> while <code>MANY</code> may return a match with a <code>next</code> pointing to the next match.</p>
<pre class="sourceCode c"><code class="sourceCode c">Match* Reference_recognize(Reference* this, ParsingContext* context);</code></pre>
</div>
</div>
<div id="groups" class="section level3">
<h3>Groups</h3>
<p>Groups are composite parsing elements that will return the first matching reference's match. Think of it as a logical <code>or</code>.</p>
<div id="constructor-parsingelement-2" class="section level4">
<h4><a name="ParsingElement_constructor"><span class="classifier">constructor</span> <code>ParsingElement</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c">ParsingElement* Group_new(Reference* children[]);</code></pre>
</div>
<div id="method-group_recognize" class="section level4">
<h4><a name="Group_recognize_method"><span class="classifier">method</span> <code>Group_recognize</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c">Match*          Group_recognize(ParsingElement* this, ParsingContext* context);</code></pre>
</div>
</div>
<div id="rules" class="section level3">
<h3>Rules</h3>
<p>Groups are composite parsing elements that only succeed if all their matching reference's.</p>
<div id="constructor-parsingelement-3" class="section level4">
<h4><a name="ParsingElement_constructor"><span class="classifier">constructor</span> <code>ParsingElement</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c">ParsingElement* Rule_new(Reference* children[]);</code></pre>
</div>
<div id="method-rule_recognize" class="section level4">
<h4><a name="Rule_recognize_method"><span class="classifier">method</span> <code>Rule_recognize</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c">Match*          Rule_recognize(ParsingElement* this, ParsingContext* context);</code></pre>
</div>
</div>
<div id="procedures" class="section level3">
<h3>Procedures</h3>
<p>Procedures are parsing elements that do not consume any input, always succeed and usually have a side effect, such as setting a variable in the parsing context.</p>
<div id="callback-procedurecallback" class="section level4">
<h4><a name="ProcedureCallback_callback"><span class="classifier">callback</span> <code>ProcedureCallback</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="kw">typedef</span> <span class="dt">void</span> (*ProcedureCallback)(ParsingElement* this, ParsingContext* context);</code></pre>
</div>
<div id="callback-matchcallback" class="section level4">
<h4><a name="MatchCallback_callback"><span class="classifier">callback</span> <code>MatchCallback</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="kw">typedef</span> <span class="dt">void</span> (*MatchCallback)(Match* m);</code></pre>
</div>
<div id="constructor-parsingelement-4" class="section level4">
<h4><a name="ParsingElement_constructor"><span class="classifier">constructor</span> <code>ParsingElement</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c">ParsingElement* Procedure_new(ProcedureCallback c);</code></pre>
</div>
<div id="method-procedure_recognize" class="section level4">
<h4><a name="Procedure_recognize_method"><span class="classifier">method</span> <code>Procedure_recognize</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c">Match*          Procedure_recognize(ParsingElement* this, ParsingContext* context);</code></pre>
</div>
</div>
<div id="conditions" class="section level3">
<h3>Conditions</h3>
<p>Conditions, like procedures, execute arbitrary code when executed, but they might return a FAILURE.</p>
<div id="callback-conditioncallback" class="section level4">
<h4><a name="ConditionCallback_callback"><span class="classifier">callback</span> <code>ConditionCallback</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="kw">typedef</span> Match* (*ConditionCallback)(ParsingElement*, ParsingContext*);</code></pre>
</div>
<div id="constructor-parsingelement-5" class="section level4">
<h4><a name="ParsingElement_constructor"><span class="classifier">constructor</span> <code>ParsingElement</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c">ParsingElement* Condition_new(ConditionCallback c);</code></pre>
</div>
<div id="method-condition_recognize" class="section level4">
<h4><a name="Condition_recognize_method"><span class="classifier">method</span> <code>Condition_recognize</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c">Match*          Condition_recognize(ParsingElement* this, ParsingContext* context);</code></pre>
</div>
</div>
</div>
<div id="the-parsing-process" class="section level2">
<h2>The parsing process</h2>
<p>The parsing itself is the process of taking a <code>grammar</code> and applying it to an input stream of data, represented by the <code>iterator</code>.</p>
<p>The grammar's <code>axiom</code> will be matched against the <code>iterator</code>'s current position, and if necessary, the grammar's <code>skip</code> parsing element will be applied to advance the iterator.</p>
<pre class="sourceCode c"><code class="sourceCode c"><span class="kw">typedef</span> <span class="kw">struct</span> ParsingStep    ParsingStep;
<span class="kw">typedef</span> <span class="kw">struct</span> ParsingOffset  ParsingOffset;</code></pre>
<div id="type-parsingstats" class="section level4">
<h4><a name="ParsingStats_type"><span class="classifier">type</span> <code>ParsingStats</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="kw">typedef</span> <span class="kw">struct</span> ParsingStats {
    size_t  bytesRead;
    <span class="dt">double</span>  parseTime;
    size_t  symbolsCount;
    size_t* successBySymbol;
    size_t* failureBySymbol;
} ParsingStats;</code></pre>
</div>
<div id="constructor-parsingstats" class="section level4">
<h4><a name="ParsingStats_constructor"><span class="classifier">constructor</span> <code>ParsingStats</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c">ParsingStats* ParsingStats_new(<span class="dt">void</span>);</code></pre>
</div>
<div id="destructor-parsingstats_free" class="section level4">
<h4><a name="ParsingStats_free_destructor"><span class="classifier">destructor</span> <code>ParsingStats_free</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="dt">void</span> ParsingStats_free(ParsingStats* this);</code></pre>
</div>
<div id="method-parsingstats_setsymbolscount" class="section level4">
<h4><a name="ParsingStats_setSymbolsCount_method"><span class="classifier">method</span> <code>ParsingStats_setSymbolsCount</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="dt">void</span> ParsingStats_setSymbolsCount(ParsingStats* this, size_t t);</code></pre>
</div>
<div id="method-parsingstats_registermatch" class="section level4">
<h4><a name="ParsingStats_registerMatch_method"><span class="classifier">method</span> <code>ParsingStats_registerMatch</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c">Match* ParsingStats_registerMatch(ParsingStats* this, Element* e, Match* m);</code></pre>
</div>
<div id="type-parsingcontext" class="section level4">
<h4><a name="ParsingContext_type"><span class="classifier">type</span> <code>ParsingContext</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="kw">typedef</span> <span class="kw">struct</span> ParsingContext {
    <span class="kw">struct</span> Grammar*              grammar;      <span class="co">// The grammar used to parse</span>
    <span class="kw">struct</span> Iterator*             iterator;     <span class="co">// Iterator on the input data</span>
    <span class="kw">struct</span> ParsingOffset* offsets;      <span class="co">// The parsing offsets, starting at 0</span>
    <span class="kw">struct</span> ParsingOffset* current;      <span class="co">// The current parsing offset</span>
    <span class="kw">struct</span> ParsingStats*  stats;
} ParsingContext;</code></pre>
</div>
<div id="constructor-parsingcontext" class="section level4">
<h4><a name="ParsingContext_constructor"><span class="classifier">constructor</span> <code>ParsingContext</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c">ParsingContext* ParsingContext_new( Grammar* g, Iterator* iterator );</code></pre>
</div>
<div id="destructor-parsingcontext_free" class="section level4">
<h4><a name="ParsingContext_free_destructor"><span class="classifier">destructor</span> <code>ParsingContext_free</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="dt">void</span> ParsingContext_free( ParsingContext* this );</code></pre>
</div>
<div id="type-parsingresult" class="section level4">
<h4><a name="ParsingResult_type"><span class="classifier">type</span> <code>ParsingResult</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="kw">typedef</span> <span class="kw">struct</span> ParsingResult {
    <span class="dt">char</span>            status;
    Match*          match;
    ParsingContext* context;
} ParsingResult;</code></pre>
</div>
<div id="constructor-parsingresult" class="section level4">
<h4><a name="ParsingResult_constructor"><span class="classifier">constructor</span> <code>ParsingResult</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c">ParsingResult* ParsingResult_new(Match* match, ParsingContext* context);</code></pre>
</div>
<div id="method-parsingresult_free" class="section level4">
<h4><a name="ParsingResult_free_method"><span class="classifier">method</span> <code>ParsingResult_free</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="dt">void</span> ParsingResult_free(ParsingResult* this);</code></pre>
<p>The result of <em>recognizing</em> parsing elements at given offsets within the input stream is stored in <code>ParsingOffset</code>. Each parsing offset is a stack of <code>ParsingStep</code>, corresponding to successive attempts at matching parsing elements at the current position.</p>
<p>The parsing offset is a stack of parsing steps, where the tail is the most specific parsing step. By following the tail's previous parsing step, you can unwind the stack.</p>
<p>The parsing steps each have an offset within the iterated stream. Offsets where data has been fully extracted (ie, a leaf parsing element has matched and processing returned a NOTHING) can be freed as they are not necessary any more.</p>
</div>
<div id="type-parsingoffset" class="section level4">
<h4><a name="ParsingOffset_type"><span class="classifier">type</span> <code>ParsingOffset</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="kw">typedef</span> <span class="kw">struct</span> ParsingOffset {
    size_t                offset; <span class="co">// The offset matched in the input stream</span>
    ParsingStep*          last;   <span class="co">// The last matched parsing step (ie. corresponding to the most specialized parsing element)</span>
    <span class="kw">struct</span> ParsingOffset* next;   <span class="co">// The link to the next offset (if any)</span>
} ParsingOffset;</code></pre>
</div>
<div id="constructor-parsingoffset" class="section level4">
<h4><a name="ParsingOffset_constructor"><span class="classifier">constructor</span> <code>ParsingOffset</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c">ParsingOffset* ParsingOffset_new( size_t offset );</code></pre>
</div>
<div id="destructor-parsingoffset_free" class="section level4">
<h4><a name="ParsingOffset_free_destructor"><span class="classifier">destructor</span> <code>ParsingOffset_free</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="dt">void</span> ParsingOffset_free( ParsingOffset* this );</code></pre>
<p>The parsing step allows to memoize the state of a parsing element at a given offset. This is the data structure that will be manipulated and created/destroyed the most during the parsing process.</p>
<pre class="sourceCode c"><code class="sourceCode c"><span class="kw">typedef</span> <span class="kw">struct</span> ParsingStep {
    ParsingElement*     element;       <span class="co">// The parsing elemnt we&#39;re matching</span>
    <span class="dt">char</span>                step;          <span class="co">// The step corresponds to current child&#39;s index (0 for token/word)</span>
    <span class="dt">unsigned</span> <span class="dt">int</span>        iteration;     <span class="co">// The current iteration (on the step)</span>
    <span class="dt">char</span>                status;        <span class="co">// Match status `STATUS_{INIT|PROCESSING|FAILED}`</span>
    Match*              match;         <span class="co">// The corresponding match, if any.</span>
    <span class="kw">struct</span> ParsingStep* previous;      <span class="co">// The previous parsing step on the parsing offset&#39;s stack</span>
} ParsingStep;</code></pre>
</div>
<div id="constructor-parsingstep" class="section level4">
<h4><a name="ParsingStep_constructor"><span class="classifier">constructor</span> <code>ParsingStep</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c">ParsingStep* ParsingStep_new( ParsingElement* element );</code></pre>
</div>
<div id="destructor-parsingstep_free" class="section level4">
<h4><a name="ParsingStep_free_destructor"><span class="classifier">destructor</span> <code>ParsingStep_free</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="dt">void</span> ParsingStep_free( ParsingStep* this );</code></pre>
</div>
</div>
<div id="utilities" class="section level2">
<h2>Utilities</h2>
<div id="method-utilities_indent" class="section level4">
<h4><a name="Utilities_indent_method"><span class="classifier">method</span> <code>Utilities_indent</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="dt">void</span> Utilities_indent( ParsingElement* this, ParsingContext* context );</code></pre>
</div>
<div id="method-utilities_dedent" class="section level4">
<h4><a name="Utilities_dedent_method"><span class="classifier">method</span> <code>Utilities_dedent</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c"><span class="dt">void</span> Utilities_dedent( ParsingElement* this, ParsingContext* context );</code></pre>
</div>
<div id="method-utilites_checkindent" class="section level4">
<h4><a name="Utilites_checkIndent_method"><span class="classifier">method</span> <code>Utilites_checkIndent</code></a></h4>
<pre class="sourceCode c"><code class="sourceCode c">Match* Utilites_checkIndent( ParsingElement *this, ParsingContext* context );</code></pre>
</div>
</div>
<div id="syntax-sugar" class="section level2">
<h2>Syntax Sugar</h2>
<p>The parsing library provides a set of macros that make defining grammars a much easier task. A grammar is usually defined in the following way:</p>
<ul>
<li>leaf symbols (words &amp; tokens) are defined ;</li>
<li>compound symbolds (rules &amp; groups) are defined.</li>
</ul>
<p>Let's take as simple grammar and define it with the straight API:</p>
<pre><code>// Leaf symbols
ParsingElement* s_NUMBER   = Token_new(&quot;\\d+&quot;);
ParsingElement* s_VARIABLE = Token_new(&quot;\\w+&quot;);
ParsingElement* s_OPERATOR = Token_new(&quot;[\\+\\-\\*\\/]&quot;);

// We also attach names to the symbols so that debugging will be easier
ParsingElement_name(s_NUMBER,   &quot;NUMBER&quot;);
ParsingElement_name(s_VARIABLE, &quot;VARIABLE&quot;);
ParsingElement_name(s_OPERATOR, &quot;OPERATOR&quot;);

// Now we defined the compound symbols
ParsingElement* s_Value    = Group_new((Reference*[3]),{
Reference_cardinality(Reference_Ensure(s_NUMBER),   CARDINALITY_ONE),
Reference_cardinality(Reference_Ensure(s_VARIABLE), CARDINALITY_ONE)
NULL
});
ParsingElement* s_Suffix    = Rule_new((Reference*[3]),{
Reference_cardinality(Reference_Ensure(s_OPERATOR),  CARDINALITY_ONE),
Reference_cardinality(Reference_Ensure(s_Value),     CARDINALITY_ONE)
NULL
});
* ParsingElement* s_Expr    = Rule_new((Reference*[3]),{
Reference_cardinality(Reference_Ensure(s_Value),  CARDINALITY_ONE),
Reference_cardinality(Reference_Ensure(s_Suffix), CARDINALITY_MANY_OPTIONAL)
NULL
});

// We define the names as well
ParsingElement_name(s_Value,  &quot;Value&quot;);
ParsingElement_name(s_Suffix, &quot;Suffix&quot;);
ParsingElement_name(s_Expr, &quot;Expr&quot;);</code></pre>
<p>As you can see, this is quite verbose and makes reading the grammar declaration a difficult task. Let's introduce a set of macros that will make expressing grammars much easier.</p>
</div>
<div id="symbol-declaration-creation" class="section level2">
<h2>Symbol declaration &amp; creation</h2>
<div id="macro-symbol" class="section level4">
<h4><a name="SYMBOL_macro"><span class="classifier">macro</span> <code>SYMBOL</code></a></h4>
<p>Declares a symbol of name <code>n</code> as being parsing element <code>e</code>.</p>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define SYMBOL(n,e)       ParsingElement* s_ ## n = ParsingElement_name(e, #n);</span></code></pre>
</div>
<div id="macro-word" class="section level4">
<h4><a name="WORD_macro"><span class="classifier">macro</span> <code>WORD</code></a></h4>
<p>Creates a <code>Word</code> parsing element with the given regular expression</p>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define WORD(v)           Word_new(v)</span></code></pre>
</div>
<div id="macro-token" class="section level4">
<h4><a name="TOKEN_macro"><span class="classifier">macro</span> <code>TOKEN</code></a></h4>
<p>Creates a <code>Token</code> parsing element with the given regular expression</p>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define TOKEN(v)          Token_new(v)</span></code></pre>
</div>
<div id="macro-rule" class="section level4">
<h4><a name="RULE_macro"><span class="classifier">macro</span> <code>RULE</code></a></h4>
<p>Creates a <code>Rule</code> parsing element with the references or parsing elements as children.</p>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define RULE(...)         Rule_new((Reference*[(VA_ARGS_COUNT(__VA_ARGS__)+1)]){__VA_ARGS__,NULL})</span></code></pre>
</div>
<div id="macro-group" class="section level4">
<h4><a name="GROUP_macro"><span class="classifier">macro</span> <code>GROUP</code></a></h4>
<p>Creates a <code>Group</code> parsing element with the references or parsing elements as children.</p>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define GROUP(...)        Group_new((Reference*[(VA_ARGS_COUNT(__VA_ARGS__)+1)]){__VA_ARGS__,NULL})</span></code></pre>
</div>
<div id="macro-procedure" class="section level4">
<h4><a name="PROCEDURE_macro"><span class="classifier">macro</span> <code>PROCEDURE</code></a></h4>
<p>Creates a <code>Procedure</code> parsing element</p>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define PROCEDURE(f)      Procedure_new(f)</span></code></pre>
</div>
<div id="macro-condition" class="section level4">
<h4><a name="CONDITION_macro"><span class="classifier">macro</span> <code>CONDITION</code></a></h4>
<p>Creates a <code>Condition</code> parsing element</p>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define CONDITION(f)      Condition_new(f)</span></code></pre>
</div>
</div>
<div id="symbol-reference-cardinality" class="section level2">
<h2>Symbol reference &amp; cardinality</h2>
<div id="macro-_s" class="section level4">
<h4><a name="_S_macro"><span class="classifier">macro</span> <code>_S</code></a></h4>
<p>Refers to symbol <code>n</code>, wrapping it in a <code>CARDINALITY_ONE</code> reference</p>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define _S(n)             ONE(s_ ## n)</span></code></pre>
</div>
<div id="macro-_o" class="section level4">
<h4><a name="_O_macro"><span class="classifier">macro</span> <code>_O</code></a></h4>
<p>Refers to symbol <code>n</code>, wrapping it in a <code>CARDINALITY_OPTIONAL</code> reference</p>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define _O(n)             OPTIONAL(s_ ## n)</span></code></pre>
</div>
<div id="macro-_m" class="section level4">
<h4><a name="_M_macro"><span class="classifier">macro</span> <code>_M</code></a></h4>
<p>Refers to symbol <code>n</code>, wrapping it in a <code>CARDINALITY_MANY</code> reference</p>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define _M(n)             MANY(s_ ## n)</span></code></pre>
</div>
<div id="macro-_mo" class="section level4">
<h4><a name="_MO_macro"><span class="classifier">macro</span> <code>_MO</code></a></h4>
<p>Refers to symbol <code>n</code>, wrapping it in a <code>CARDINALITY_MANY_OPTIONAL</code> reference</p>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define _MO(n)            MANY_OPTIONAL(s_ ## n)</span></code></pre>
</div>
<div id="macro-_as" class="section level4">
<h4><a name="_AS_macro"><span class="classifier">macro</span> <code>_AS</code></a></h4>
<p>Sets the name of reference <code>r</code> to be v</p>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define _AS(r,v)          Reference_name(Reference_Ensure(r), v)</span></code></pre>
</div>
</div>
<div id="supporting-macros" class="section level2">
<h2>Supporting macros</h2>
<p>The following set of macros is mostly used by the set of macros above. You probably won't need to use them directly.</p>
<div id="macro-name" class="section level4">
<h4><a name="NAME_macro"><span class="classifier">macro</span> <code>NAME</code></a></h4>
<p>Sets the name of the given parsing element <code>e</code> to be the name <code>n</code>.</p>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define NAME(n,e)         ParsingElement_name(e,n)</span></code></pre>
</div>
<div id="macro-one" class="section level4">
<h4><a name="ONE_macro"><span class="classifier">macro</span> <code>ONE</code></a></h4>
<p>Sets the given reference or parsing element's reference to CARDINALITY_ONE If a parsing element is given, it will be automatically wrapped in a reference.</p>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define ONE(v)            Reference_cardinality(Reference_Ensure(v), CARDINALITY_ONE)</span></code></pre>
</div>
<div id="macro-optional" class="section level4">
<h4><a name="OPTIONAL_macro"><span class="classifier">macro</span> <code>OPTIONAL</code></a></h4>
<p>Sets the given reference or parsing element's reference to CARDINALITY_OPTIONAL If a parsing element is given, it will be automatically wrapped in a reference.</p>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define OPTIONAL(v)       Reference_cardinality(Reference_Ensure(v), CARDINALITY_OPTIONAL)</span></code></pre>
</div>
<div id="macro-many" class="section level4">
<h4><a name="MANY_macro"><span class="classifier">macro</span> <code>MANY</code></a></h4>
<p>Sets the given reference or parsing element's reference to CARDINALITY_MANY If a parsing element is given, it will be automatically wrapped in a reference.</p>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define MANY(v)           Reference_cardinality(Reference_Ensure(v), CARDINALITY_MANY)</span></code></pre>
</div>
<div id="macro-many_optional" class="section level4">
<h4><a name="MANY_OPTIONAL_macro"><span class="classifier">macro</span> <code>MANY_OPTIONAL</code></a></h4>
<p>Sets the given reference or parsing element's reference to CARDINALITY_MANY_OPTIONAL If a parsing element is given, it will be automatically wrapped in a reference.</p>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#define MANY_OPTIONAL(v)  Reference_cardinality(Reference_Ensure(v), CARDINALITY_MANY_OPTIONAL)</span></code></pre>
</div>
</div>
<div id="grammar-declaration-with-macros" class="section level2">
<h2>Grammar declaration with macros</h2>
<p>The same grammar that we defined previously can now be expressed in the following way:</p>
<pre><code>SYMBOL(NUMBER,   TOKEN(&quot;\\d+&quot;))
SYMBOL(VAR,      TOKEN(&quot;\\w+&quot;))
SYMBOL(OPERATOR, TOKEN(&quot;[\\+\\-\\*\\/]&quot;))

SYMBOL(Value,  GROUP( _S(NUMBER),   _S(VAR)     ))
SYMBOL(Suffix, RULE(  _S(OPERATOR), _S(Value)   ))
SYMBOL(Expr,   RULE(  _S(Value),    _MO(Suffix) ))</code></pre>
<p>All symbols will be define as <code>s_XXX</code>, so that you can do:</p>
<pre><code>ParsingGrammar* g = Grammar_new();
g-&gt;axiom = s_Expr;</code></pre>
</div>
</div>
<div id="license" class="section level1">
<h1>License</h1>
<p>Revised BSD License Copyright (c) 2014, FFunction inc (1165373771 Quebec inc) All rights reserved.</p>
<p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p>
<p>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution. Neither the name of the FFunction inc (CANADA) nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</p>
<p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>
</div>

				</div>
			</div>
		</div>
	</body>
</html>
